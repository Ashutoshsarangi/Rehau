{"version":3,"file":"rehau-functional-core.js.map","sources":["ng://rehau-functional-core/lib/stores/onboarding-steps/action/onboarding-step.actions.ts","ng://rehau-functional-core/lib/rehau-functional-core.service.ts","ng://rehau-functional-core/lib/services/config-service/config-service.module.ts","ng://rehau-functional-core/lib/services/logger-service/logger.service.ts","ng://rehau-functional-core/lib/services/config-service/config-service.ts","ng://rehau-functional-core/lib/services/translate-service/translate-service.module.ts","ng://rehau-functional-core/lib/services/translate-service/translate-service.ts","ng://rehau-functional-core/lib/rehau-functional-core.module.ts","ng://rehau-functional-core/lib/stores/onboarding-steps/reducer/onboarding-step.reducer.ts","ng://rehau-functional-core/lib/stores/auth/action/auth.action.ts","ng://rehau-functional-core/lib/stores/auth/reducer/auth.reducer.ts","ng://rehau-functional-core/lib/stores/loader/action/loader.action.ts","ng://rehau-functional-core/lib/stores/loader/reducer/loader.reducer.ts","ng://rehau-functional-core/lib/stores/reducer-composition.ts","ng://rehau-functional-core/lib/services/cache-service/cache.service.ts","ng://rehau-functional-core/lib/providers/cidaas.provider.ts","ng://rehau-functional-core/lib/services/web-service/web.service.ts","ng://rehau-functional-core/lib/config/local-storage.config.ts","ng://rehau-functional-core/lib/services/store-service/store.service.ts","ng://rehau-functional-core/lib/services/auth-service/auth.service.ts","ng://rehau-functional-core/lib/config/cidaas.config.ts","ng://rehau-functional-core/lib/services/login-service/login.service.ts","ng://rehau-functional-core/lib/services/auth-service/auth-guard.service.ts","ng://rehau-functional-core/lib/services/route-animation/route-animation.ts","ng://rehau-functional-core/lib/services/on-boarding-serice/on-boarding.service.ts","ng://rehau-functional-core/lib/models/getway.model.ts","ng://rehau-functional-core/lib/services/gateway-service/gatewayAcl.service.ts","ng://rehau-functional-core/lib/services/gateway-service/gateway.service.ts","ng://rehau-functional-core/lib/services/gateway-service/gatewayDeviceControl.service.ts","ng://rehau-functional-core/lib/services/onlineOffline-service/onlineOffline.service.ts","ng://rehau-functional-core/lib/services/leakage-helper-service/settings.service.ts","ng://rehau-functional-core/lib/models/zAutomation.model.ts","ng://rehau-functional-core/lib/services/zAutomation-service/zAutomation.service.ts"],"sourcesContent":["import { createAction, props } from '@ngrx/store';\n\nexport const onBoardingNextStep = createAction('[OnBoarding Step] Manage Next Step', props<{ payload: any }>());\nexport const onBoardingBackStep = createAction('[OnBoarding Step] Manage Back Step', props<{ payload: any }>());\n","\n\nimport { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { Store, select } from '@ngrx/store';\nimport { onBoardingNextStep } from './stores/onboarding-steps/action/onboarding-step.actions';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class RehauFunctionalCoreService {\n\n  onBoardingData$: Observable<any[]>;\n  constructor(private store: Store<{ onBoardingData: any[] }>) {\n    this.onBoardingData$ = store.pipe(select('onBoardingData'));\n  }\n\n\n  showSuccess() {\n    this.onBoardingData$.subscribe((data) => {\n      console.log('this is list of onBoardings from App.component -->', data);\n    });\n    this.store.dispatch(onBoardingNextStep({ payload: { configPosition: 6 } }));\n  }\n}\n","import { ConfigService } from './config-service';\n\n\nexport function CONFIG_FACTORY(configService: ConfigService): any {\n  return () => configService.initConfig();\n}\n\nexport class ConfigServiceModule {\n}\n","// IONIC - ANGULAR\nimport { Injectable, Inject } from '@angular/core';\nimport { DEBUG_LOG_ON, _DEV_ } from '../../config/app-setting.config';\n\n@Injectable()\n\nexport class LogService {\n  /**\n   * @description This Method is for general console logs\n   * @param content is the text you want to print as console\n   */\n  log(...content) {\n    if (!DEBUG_LOG_ON && !_DEV_) {\n      return;\n    }\n\n    console.log('✅ ', ...content);\n  }\n  /**\n   * @description This Method is for error console logs\n   * @param content is the text you want to print as console\n   */\n  log_e(...content) {\n    if (!DEBUG_LOG_ON && !_DEV_) {\n      return;\n    }\n\n    console.log('🚫❗️ ', ...content);\n  }\n\n  /**\n   * @description This Method is for warning console logs\n   * @param content is the text you want to print as console\n   */\n  log_w(...content) {\n    if (!DEBUG_LOG_ON && !_DEV_) {\n      return;\n    }\n\n    console.log('🔶 ', ...content);\n  }\n\n\n  /**\n   * @description This Method is for debugging console logs\n   * @param content is the text you want to print as console\n   */\n  log_d(...content) {\n    if (!DEBUG_LOG_ON && !_DEV_) {\n      return;\n    }\n\n    console.log('🔷 TODO: ', ...content);\n  }\n\n}\n","import { Inject, Injectable } from '@angular/core';\nimport { AppConfig } from '../../models/app-config.model';\nimport { LogService } from '../logger-service/logger.service';\n\nexport class EnvData {\n  public env: any = 'development';\n}\n\nexport class BU {\n  public name: string;\n  public pass: string;\n}\n\nconst SERVICE_NAME = 'ConfigService';\n\n/**\n * @description Service for configuring global properties\n */\n@Injectable()\nexport class ConfigService {\n  protected conFig: any; // ConfigInterface\n  public enviRonment: EnvData;\n  protected actions: string[];\n\n  constructor(\n    @Inject('SERVICE_CONFIG') public configuration: AppConfig,\n    private logService: LogService\n  ) { }\n\n  public initConfig() {\n    this.conFig = this.configuration;\n    this.logService.log('Configuration data loaded1: ', this.conFig);\n  }\n\n}\n","import { TranslationService } from './translate-service';\n\n// Localisation\nimport { TranslateModule, TranslateLoader, TranslateService } from '@ngx-translate/core';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\nimport { HttpClientModule, HttpClient } from '@angular/common/http';\nimport { NgModule } from '@angular/core';\n\n// export function HttpLoaderFactory(http: HttpClient) {\n//   return new TranslateHttpLoader(http);\n\n// }\nexport function HttpLoaderFactory(http: HttpClient) {\n  return new TranslateHttpLoader(http, './assets/i18n/', '.json');\n}\n\nexport function TRANSLATE_FACTORY(configService: TranslationService): any {\n  return () => configService.initTranslation();\n}\n@NgModule({\n  imports: [\n    HttpClientModule,\n    TranslateModule.forRoot({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: HttpLoaderFactory,\n        deps: [HttpClient]\n      }\n    }),\n  ],\n  exports: [\n    TranslateModule,\n  ]\n})\nexport class TranslateServiceModule {\n}\n","import { EventEmitter, Inject, Injectable } from '@angular/core';\nimport {\n  DefaultLangChangeEvent,\n  LangChangeEvent,\n  TranslateLoader,\n  TranslateService,\n  TranslationChangeEvent\n} from '@ngx-translate/core';\n\nimport { Observable, Subject, Subscriber } from 'rxjs';\nimport { LogService } from '../logger-service/logger.service';\nimport { isBoolean } from 'util';\n\n@Injectable()\nexport class TranslationService {\n  constructor(\n    private translateService: TranslateService, @Inject('SERVICE_CONFIG') public configuration: any,\n    private logService: LogService) { }\n\n  public initTranslation(): void {\n    this.logService.log('I am Init Translator', this.configuration);\n    if (this.configuration) {\n      this.logService.log('I am in config', this.configuration);\n      if (!!this.configuration.globalConfig.languages) {\n        this.addLangs(this.splitLanguages(this.configuration.globalConfig.languages));\n      }\n      if (!!this.configuration.globalConfig.defaultLanguage) {\n        this.setDefaultLang(this.configuration.globalConfig.defaultLanguage);\n      }\n      if (!!this.configuration.globalConfig.currentLanguage) {\n        this.logService.log('Hey Its TRUE I need to be called');\n        this.use(this.configuration.globalConfig.currentLanguage);\n      }\n    } else {\n      this.logService.log('No configuration provided. This service has not default values. Set them before use.');\n    }\n  }\n\n  private splitLanguages(langs: string): Array<string> {\n    let availableLanguages: Array<string> = langs.split('|');\n    return (availableLanguages = availableLanguages.filter(x => x.length > 0));\n  }\n\n  public currentLang(): string {\n    return this.translateService.currentLang;\n  }\n\n  public currentLoader(): TranslateLoader {\n    return this.translateService.currentLoader;\n  }\n\n  public onLangChange(): EventEmitter<LangChangeEvent> {\n    return this.translateService.onLangChange;\n  }\n\n  public onTranslationChange(): EventEmitter<TranslationChangeEvent> {\n    return this.translateService.onTranslationChange;\n  }\n\n  public onDefaultLangChange(): EventEmitter<DefaultLangChangeEvent> {\n    return this.translateService.onDefaultLangChange;\n  }\n  // #endregion\n\n  /**\n   * @description Sets the default language to use as a fallback\n   * @param lang language parameter needed\n   */\n  public setDefaultLang(lang: string): void {\n    this.translateService.setDefaultLang(lang);\n  }\n\n  /**\n   * @description Gets the default language\n   */\n  public getDefaultLang(): string {\n    return this.translateService.getDefaultLang();\n  }\n\n  /**\n   * @description Changes the lang currently used\n   * @param lang language parameter needed\n   */\n  public use(lang: string): Observable<any> {\n    this.logService.log('The Use Function is called  ---> ', lang);\n    return this.translateService.use(lang);\n  }\n\n  /**\n   * @description Gets an object of translations for a given language with the current loader\n   * @param lang language parameter needed\n   */\n  public getTranslation(lang: string): Observable<any> {\n    return this.translateService.getTranslation(lang);\n  }\n\n  /**\n   * @description Add new langs to the list\n   * @param langs language parameter needed\n   */\n  public addLangs(langs: Array<string>): void {\n    this.translateService.addLangs(langs);\n  }\n\n  /**\n   * @description Returns an array of currently available langs\n   */\n  public getLangs(): Array<string> {\n    return this.translateService.getLangs();\n  }\n  /**\n   * @description Calls resetLang and retrieves the translations object for the current loader\n   * @param lang language parameter needed\n   */\n  public reloadLang(lang: string): Observable<string | object> {\n    return this.translateService.reloadLang(lang);\n  }\n\n  /**\n   * @description Removes the current translations for this lang.\n   * @description You will have to call use, reloadLang or getTranslation again to be able to get translations\n   * @param lang language parameter needed\n   */\n  public resetLang(lang: string): void {\n    this.translateService.resetLang(lang);\n  }\n\n  /**\n   * @description Returns the current browser lang if available, or undefined otherwise\n   */\n  public getBrowserLang(): string | undefined {\n    return this.translateService.getBrowserLang();\n  }\n\n  /**\n   * @description Returns the current browser culture language name (e.g. 'de-DE' if available, or undefined otherwise\n   */\n  public getBrowserCultureLang(): string | undefined {\n    return this.getBrowserCultureLang();\n  }\n\n  /**\n   * @description Gets the translated value of a key (or an array of keys) or the key if the value was not found\n   * @param key key of the json value\n   * @param interpolateParams Object Optional\n   */\n  public get(key: string | Array<string>, interpolateParams?: object): Observable<string | object> {\n    return this.translateService.get(key, interpolateParams);\n  }\n  /**\n   * @description Gets the instant translated value of a key (or an array of keys). /!\\ This method is synchronous and the\n   * default file loader is asynchronous.\n   * @description You are responsible for knowing when your translations have been loaded and it is safe to use this method.\n   * @description If you are not sure then you should use the get method instead\n   * @param key Key for the service\n   */\n  public instant(key: string): Observable<any> {\n    return new Observable(subscriber => {\n      console.log('Hello **********************');\n      subscriber.next(this.translateService.instant(key));\n    });\n  }\n  /**\n   * @description Gets the instant translated value of a key (or an array of keys). /!\\ This method is synchronous and the\n   * default file loader is asynchronous.\n   * @description You are responsible for knowing when your translations have been loaded and it is safe to use this method.\n   * @description If you are not sure then you should use the get method instead\n   * @param key Key for the service\n   */\n  public instantObject(item: object): Observable<any> {\n    if (Array.isArray(item)) {\n      const temp = [];\n      for (const element of item) {\n        temp.push(this.mainInstant(element));\n      }\n      return new Observable(subscriber => {\n        console.log('Hello ######################');\n        subscriber.next(temp);\n      });\n    } else {\n      return new Observable(subscriber => {\n        console.log('Hello $$$$$$$$$$$$$$$$$$$$$$');\n        subscriber.next(this.mainInstant(item));\n      });\n    }\n  }\n\n  /**\n   * @description Gets the instant value of each key in the object\n   * @param object which need to be translated\n   */\n  public mainInstant(item: object): object {\n    const temp = {};\n    for (const key in item) {\n      if (item.hasOwnProperty(key)) {\n        const keyVal = item[key];\n        if (typeof keyVal === 'string' && keyVal.length > 0) {\n          const val = this.translateService.instant(keyVal);\n          temp[key] = val;\n        } else {\n          temp[key] = keyVal;\n        }\n      }\n    }\n    return temp;\n  }\n}\n","import { NgModule, ModuleWithProviders, APP_INITIALIZER, forwardRef, Optional, SkipSelf } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { CONFIG_FACTORY } from './services/config-service/config-service.module';\nimport { ConfigService } from './services/config-service/config-service';\nimport { AppConfig } from './models/app-config.model';\nimport { TRANSLATE_FACTORY, TranslateServiceModule } from './services/translate-service/translate-service.module';\nimport { TranslationService } from './services/translate-service/translate-service';\n\n@NgModule({\n  declarations: [],\n  imports: [],\n  exports: [\n    TranslateServiceModule\n  ]\n})\nexport class RehauFunctionalCoreModule {\n  public static forRoot(SERVICE_CONFIG: AppConfig): ModuleWithProviders<RouterModule> {\n    return {\n      ngModule: RehauFunctionalCoreModule,\n      providers: [\n        { provide: 'SERVICE_CONFIG', useValue: SERVICE_CONFIG },\n        {\n          provide: APP_INITIALIZER,\n          useFactory: CONFIG_FACTORY,\n          deps: [forwardRef(() => ConfigService)],\n          multi: true\n        },\n        {\n          provide: APP_INITIALIZER,\n          useFactory: TRANSLATE_FACTORY,\n          deps: [forwardRef(() => TranslationService)],\n          multi: true\n        },\n        ConfigService,\n      ]\n    };\n  }\n\n}\n","import { Action, createReducer, on } from '@ngrx/store';\nimport { onBoardingBackStep, onBoardingNextStep } from '../action/onboarding-step.actions';\n\nexport const initialState = {\n  configPosition: 0\n};\nconst Reducer = createReducer(\n  initialState,\n  on(onBoardingNextStep, (state, { payload }) =>\n    ({ configPosition: payload.configPosition + 1 })),\n  on(onBoardingBackStep, (state, { payload }) =>\n    ({ configPosition: payload.configPosition - 1 }))\n);\n\nexport function onBoardingReducer(state: any | undefined, action: Action) {\n  return Reducer(state, action);\n}\n","import { createAction, props } from '@ngrx/store';\nimport { CidaasState } from '../../../models/auth.model';\n\nexport const userInfoAction = createAction('User info from CIDAAS', props<{ payload: CidaasState }>());\n\n","import { Action, createReducer, on } from '@ngrx/store';\nimport { userInfoAction } from '../action/auth.action';\nimport { CidaasState } from '../../../models/auth.model';\n\nexport const initialState: CidaasState = {\n  userInfo: {}\n};\nconst Reducer = createReducer(\n  initialState,\n  on(userInfoAction, (state, { payload }) =>\n    ({ userInfo: { ...payload.userInfo } }))\n);\n\nexport function cidaasReducer(state: CidaasState | undefined, action: Action) {\n  return Reducer(state, action);\n}\n","import { createAction, props } from '@ngrx/store';\n\nexport const loaderAction = createAction('Show-Hide laoder', props<{ payload: boolean }>());\n\n\n\n","import { Action, createReducer, on } from '@ngrx/store';\nimport { loaderAction } from '../action/loader.action';\n\nexport interface State {\n  showLoader: boolean;\n}\n\nexport const initialState: State = {\n    showLoader: false,\n  };\n\nconst Reducer = createReducer(\n  initialState,\n  on(loaderAction, state => ({ ...state })),\n);\n\nexport function loaderReducer(state: State | undefined, action: Action) {\n    return Reducer(state, action);\n}\n","import { ActionReducerMap } from '@ngrx/store';\n\nimport { onBoardingReducer } from './onboarding-steps/reducer/onboarding-step.reducer';\nimport { cidaasReducer } from './auth/reducer/auth.reducer';\nimport { loaderReducer } from './loader/reducer/loader.reducer';\n\nexport interface IAppState {\n  onBoardingData: any;\n  cidaasData: any;\n  loaderState: any;\n}\n\nexport const reducers: ActionReducerMap<IAppState> = {\n  onBoardingData: onBoardingReducer,\n  cidaasData: cidaasReducer,\n  loaderState: loaderReducer\n};\n","// IONIC - ANGULAR\nimport { Inject, Injectable } from '@angular/core';\nimport SimpleCrypto from 'simple-crypto-js';\n\n\n@Injectable()\nexport class CacheService {\n  constructor( @Inject('SERVICE_CONFIG') public configuration: any ) {\n  }\n  simpleCrypto = new SimpleCrypto(this.configuration.globalConfig.SECRET_KEY);\n\n  /**\n   * @description This Method is required for Removing particular data from local storage.\n   * @param key  is required for the removing particular data\n   */\n  removeLocalData(key: string) {\n    localStorage.removeItem(key);\n  }\n\n  /**\n   * @description This Method is required for getting Local storage Data.\n   * @param Key This is required for the geting particular data with crypted formated.\n   */\n  getLocalData(key: string) {\n    // Set the second paramter to true, then it will return object instead of string\n    if (localStorage.getItem(key)) {\n      return this.simpleCrypto.decrypt(localStorage.getItem(key), true);\n    } else {\n      return false;\n    }\n  }\n\n  /**\n   * @description This Method is for setting Key, Value pair in the Local storage.\n   * @param key is used for the storeing data.\n   * @param value is the Actual value which need to be encrypted befor store.\n   */\n  setLocalData(key: string, value: any) {\n    const encrypted = this.simpleCrypto.encrypt(value);\n    localStorage.setItem(key, encrypted);\n  }\n}\n","import { OAuthProvider } from 'ionic-cordova-oauth/dist/provider';\nimport { IcidaasProviderOptions } from '../models/cidaas.model';\nimport shajs from 'sha.js';\n\n\n// @dynamic\nexport class CidaasProvider extends OAuthProvider {\n  static CLIENT_ID = '9feab210-c025-406d-a10c-3d8323214491';\n  static baseURL = 'https://accounts.rehau.com';\n  static tokenEndpoint = CidaasProvider.baseURL + '/token-srv/token';\n  revokeUrl = CidaasProvider.baseURL + '/authz-srv/revoke';\n\n\n  options: IcidaasProviderOptions;\n  protected authUrl = CidaasProvider.baseURL + '/authz-srv/authz';\n  protected defaults: object = {\n    responseType: 'code'\n  };\n  static base64URLEncode(str): string {\n    return str.toString('base64')\n      .replace(/\\+/g, '-')\n      .replace(/\\//g, '_')\n      .replace(/=/g, '');\n  }\n  constructor(options: IcidaasProviderOptions = {}) {\n    super(options);\n\n    if (!options.appScope || options.appScope.length <= 0) {\n      throw new Error(`A ${this.name} app scope must exist`);\n    }\n  }\n\n  sha256(buffer) {\n    return shajs('sha256').update(buffer).digest();\n  }\n\n  private removeParam(key, sourceURL) {\n    let rtn = sourceURL.split('?')[0];\n    let param = '';\n    let paramsArr = [];\n    const queryString = (sourceURL.indexOf('?') !== -1) ? sourceURL.split('?')[1] : '';\n    if (queryString !== '') {\n      paramsArr = queryString.split('&');\n      for (let i = paramsArr.length - 1; i >= 0; i -= 1) {\n        param = paramsArr[i].split('=')[0];\n        if (param === key) {\n          paramsArr.splice(i, 1);\n        }\n      }\n      rtn = rtn + '?' + paramsArr.join('&');\n    }\n    return rtn;\n  }\n\n  private addParam(key, sourceURL) {\n    sourceURL += `&scope=`;\n    sourceURL += `${this.options.appScope.join(' ')}`;\n    return sourceURL;\n  }\n\n  protected optionsToDialogUrl(options) {\n    let url = super.optionsToDialogUrl(options);\n    url = this.removeParam('scope', url);\n    url = this.addParam('scope', url);\n    if (options.authType) {\n      url += `&auth_type=${options.authType}`;\n    }\n    if (options.nonce) {\n      url += `&nonce=${options.nonce}`;\n    }\n    if (options.code_challenge_method === 'plain') {\n      url += `&code_challenge=${options.code_challenge}&code_challenge_method=${options.code_challenge_method}`;\n    }\n    if (options.code_challenge_method === 'S256') {\n      url += `&code_challenge=${\n        CidaasProvider.base64URLEncode(this.sha256(options.code_challenge))\n        }&code_challenge_method=${options.code_challenge_method}`;\n    }\n    if (options.viewType) {\n      url += `&view_type=${options.viewType}`;\n    }\n    console.log('Calling URL: ' + url);\n    return url;\n  }\n\n}\n","import { Inject, Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { retryBackoff } from 'backoff-rxjs';\nimport { timeout } from 'rxjs/operators';\nimport { LogService } from '../logger-service/logger.service';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WebService {\n\n  constructor(\n    private http: HttpClient,\n    private logService: LogService,\n    @Inject('SERVICE_CONFIG') public configuration: any,\n  ) { }\n\n  BASE_URL = this.configuration.globalConfig.BASE_URL;\n  // getApi(), postApi() are responsible for Main Api cals depending on the Http methods\n\n  // /**\n  //  * @description This method is for Get Api Calls\n  //  * @param endPoint String Just need to pass the Endpoint\n  //  * @returns This function returns the respective response from the Api\n  //  */\n  // getApi(endPoint, retryConfig: any = {}): Observable<any> {\n  //   if (Object.keys(retryConfig).length !== 0) {\n  //     return this.http.get(this.BASE_URL + endPoint).pipe(\n  //       timeout(retryConfig.REQ_TIMEOUT),\n  //       retryBackoff({\n  //         initialInterval: retryConfig.INIT_INTERVAL,\n  //         maxInterval: retryConfig.MAX_INTERVAL,\n  //         maxRetries: retryConfig.MAX_RETRIES,\n  //         shouldRetry: error => {\n  //           this.logService.log_w('Aborted remote request');\n  //           return true;\n  //         },\n  //         backoffDelay: (iteration, initialInterval) =>\n  //           Math.pow(1.5, iteration) * initialInterval\n  //       })\n  //     );\n  //   } else {\n  //     return this.http.get(this.BASE_URL + endPoint);\n  //   }\n  // }\n\n  /**\n   * @description This method is for Post Api calls\n   * @param endPoint String Api Endpoint need to pass\n   * @param data Object required for the Post request\n   * @returns Return the respective responce from the Apis.\n   */\n  // postApi(endPoint, data, retryConfig: any = {}): Observable<any> {\n  //   if (Object.keys(retryConfig).length !== 0) {\n  //     return this.http.post(this.BASE_URL + endPoint, data).pipe(\n  //       timeout(retryConfig.REQ_TIMEOUT),\n  //       retryBackoff({\n  //         initialInterval: retryConfig.INIT_INTERVAL,\n  //         maxInterval: retryConfig.MAX_INTERVAL,\n  //         maxRetries: retryConfig.MAX_RETRIES,\n  //         shouldRetry: error => {\n  //           this.logService.log_w('Aborted remote request');\n  //           return true;\n  //         },\n  //         backoffDelay: (iteration, initialInterval) =>\n  //           Math.pow(1.5, iteration) * initialInterval\n  //       })\n  //     );\n  //   } else {\n  //     return this.http.post(this.BASE_URL + endPoint, data);\n  //   }\n  // }\n\n  /**\n   * @description This method is for Get Api Calls\n   * @param url String url for the API\n   * @param httpOptions header part is optional\n   * @param retryConfig is the object if want to hit API multiple time after failure\n   * @returns This function returns the respective response from the Api\n   */\n  getApi(url, httpOptions: any = {}, retryConfig: any = {}): Observable<any> {\n    if (Object.keys(retryConfig).length !== 0) {\n      return this.http.get(url, httpOptions).pipe(\n        timeout(retryConfig.REQ_TIMEOUT),\n        retryBackoff({\n          initialInterval: retryConfig.INIT_INTERVAL,\n          maxInterval: retryConfig.MAX_INTERVAL,\n          maxRetries: retryConfig.MAX_RETRIES,\n          shouldRetry: error => {\n            this.logService.log_w('Aborted remote request');\n            return true;\n          },\n          backoffDelay: (iteration, initialInterval) =>\n            Math.pow(1.5, iteration) * initialInterval\n        })\n      );\n    } else {\n      return this.http.get(url, httpOptions);\n    }\n  }\n\n  /**\n   * This method is for Post Api calls\n   * @param url String Api URL\n   * @param requestBody Object required for the Post request\n   * @param httpOptions header part is optional\n   * @param retryConfig is the object if want to hit API multiple time after failure\n   * @returns Return the respective responce from the Apis.\n   */\n  postApi(url, requestBody, httpOptions: any = {}, retryConfig: any = {}): Observable<any> {\n    console.log(url, 'url');\n    console.log(requestBody, 'requestBody');\n    console.log(httpOptions, 'httpOptions');\n    if (Object.keys(retryConfig).length !== 0) {\n      return this.http.post(\n        url,\n        requestBody,\n        httpOptions\n      ).pipe(\n        timeout(retryConfig.REQ_TIMEOUT),\n        retryBackoff({\n          initialInterval: retryConfig.INIT_INTERVAL,\n          maxInterval: retryConfig.MAX_INTERVAL,\n          maxRetries: retryConfig.MAX_RETRIES,\n          shouldRetry: error => {\n            console.log('Aborted remote request');\n            return true;\n          },\n          backoffDelay: (iteration, initialInterval) =>\n            Math.pow(1.5, iteration) * initialInterval\n        })\n      );\n    } else {\n      return this.http.post(url, requestBody, httpOptions);\n    }\n  }\n\n  /**\n   * This method is for Request Api calls\n   * @param method String method need to pass in request API\n   * @param url String API URL\n   * @param httpOptions header details is optional\n   * @param retryConfig is the object if want to hit API multiple time after failure. it is optional\n   * @returns Return the respective responce from the Apis.\n   */\n  requestApi(method, url, httpOptions, retryConfig: any = {}): Observable<any> {\n    if (Object.keys(retryConfig).length !== 0) {\n      return this.http.request(method, url, httpOptions).pipe(\n        timeout(retryConfig.REQ_TIMEOUT),\n        retryBackoff({\n          initialInterval: retryConfig.INIT_INTERVAL,\n          maxInterval: retryConfig.MAX_INTERVAL,\n          maxRetries: retryConfig.MAX_RETRIES,\n          shouldRetry: error => {\n            // this.logService.log_w('Aborted remote request');\n            console.log('Aborted remote request');\n            return true;\n          },\n          backoffDelay: (iteration, initialInterval) =>\n            Math.pow(1.5, iteration) * initialInterval\n        })\n      );\n    } else {\n      return this.http.post(method, url, httpOptions);\n      // return this.postApi(url, {}, httpOptions);\n    }\n  }\n\n}\n","export const userData = 'USERDATA';\n","// IONIC - ANGULAR\nimport { Injectable } from '@angular/core';\nimport { Observable, Subject } from 'rxjs';\nimport { Store, select } from '@ngrx/store';\nimport { userInfoAction } from '../../stores/auth/action/auth.action';\nimport { CidaasState } from '../../models/auth.model';\nimport { LogService } from '../logger-service/logger.service';\nimport { loaderAction } from '../../stores/loader/action/loader.action';\n\n\nexport const LoaderFlag = new Subject();\n@Injectable()\n\nexport class StoreService {\n  userData$: Observable<CidaasState>;\n  showLoader$: Observable<boolean>;\n  constructor(\n    private store: Store<{ cidaasData: CidaasState, loaderState: boolean }>,\n    private logService: LogService\n  ) {\n    this.userData$ = this.store.pipe(select('cidaasData'));\n    this.showLoader$ = store.pipe(select('loaderState'));\n  }\n\n  dispatchUserData(Data) {\n    this.store.dispatch(userInfoAction({ payload: { userInfo: Data } }));\n  }\n\n  /**\n   * @description This function will return the latest state of userData from store\n   * @returns object of user data\n   */\n  async getUserData() {\n    let userData;\n    this.userData$.subscribe((data) => {\n      if (Object.keys(data.userInfo).length > 0) {\n        userData = data.userInfo;\n      }\n    });\n\n    return userData;\n  }\n\n  /**\n   * @description This function will update the state of loader\n   * @param state is the value of state to dispatch\n   */\n  dispatchLoaderState(state) {\n    this.logService.log('in dispatch method tab loader state', state);\n    this.store.dispatch(loaderAction(state));\n    LoaderFlag.next(state);\n  }\n\n  /**\n   * @description This function will return the latest state of loader\n   * @returns current loader state\n   */\n  async getLoaderState() {\n    let loaderState;\n    this.showLoader$.subscribe((state) => {\n        loaderState = state;\n    });\n    this.logService.log('in get loader state --->', loaderState);\n    LoaderFlag.next(loaderState.showLoader);\n    return loaderState.showLoader;\n  }\n\n}\n","import { Inject, Injectable } from '@angular/core';\nimport { ITokenEndpointBody, ITokenEndpointResponse } from '../../models/cidaas.model';\nimport { CidaasProvider } from '../../providers/cidaas.provider';\nimport { WebService } from '../web-service/web.service';\nimport { CacheService } from '../cache-service/cache.service';\nimport { userData } from '../../config/local-storage.config';\nimport { JwtHelperService } from '@auth0/angular-jwt';\nimport { LogService } from '../logger-service/logger.service';\nimport { StoreService } from '../store-service/store.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthService {\n\n  private tokenPromise: Promise<boolean>;\n\n  constructor(\n    private webService: WebService,\n    private cacheService: CacheService,\n    private logservice: LogService,\n    private storeService: StoreService,\n    @Inject('SERVICE_CONFIG') public configuration: any\n  ) { }\n\n  async oAuthCallback(body: ITokenEndpointBody, message: string): Promise<void> {\n    const response: any = await this.getToken(body, message);\n    return response;\n  }\n\n  /**\n   * @description This function is responsible to call postAPI method to get the new token\n   * @returns object of ITokenEndpointResponse\n   */\n  async tokenRequest(body: ITokenEndpointBody): Promise<ITokenEndpointResponse> {\n    return this.webService.postApi(this.configuration.cidaasConfig.ciddasTokenEndpoint, body).toPromise();\n\n  }\n\n  /**\n   * @description This function will call the token request method to get new token\n   * @description And will store the user data in store and local storage\n   * @returns object of user data\n   */\n  private async getToken(body, message): Promise<any> {\n    try {\n      const response: ITokenEndpointResponse = await this.tokenRequest(body);\n      if (!response.access_token || !response.refresh_token) {\n        // Here We clean the User Object from Local Storage and Store.\n        this.storeService.dispatchUserData({});\n        this.cacheService.removeLocalData(userData);\n        return response;\n      } else {\n        body.access_token = response.access_token;\n        body.refresh_token = response.refresh_token;\n        // Here We Set the User Object in Local Storage and Store.\n        this.storeService.dispatchUserData(body);\n        this.cacheService.setLocalData(userData, body);\n        return body;\n      }\n\n    } catch (e) {\n      if (e.error instanceof ErrorEvent) {\n        this.logservice.log_e('An error occurred for getting ' + message + ':', e.error.message);\n        this.logservice.log('Never the less leave the use do its thing without tokens');\n        body.status = e.status;\n        body.message = e.error.message;\n        return body;\n      } else if (e.status === 0) {\n        this.logservice.log_e('An error occurred for getting ' + message + ':', e.error.message);\n        this.logservice.log('Never the less leave the use do its thing without tokens');\n        body.status = e.status;\n        body.message = e.error.message;\n        return body;\n      } else if (e.status === 408) {\n        this.logservice.log_e(\n          'An error occurred for getting ' + message + ':',\n          e.error.message\n        );\n        this.logservice.log('Never the less leave the use do its thing without tokens');\n        body.status = e.status;\n        body.message = e.error.message;\n        return body;\n      } else {\n        this.logservice.log_e(\n          `Backend returned code for getting ${message} ${e.status}, ` +\n          `body was for getting ${message} : ${e.error}`\n        );\n        this.storeService.dispatchUserData({});\n        this.cacheService.removeLocalData(userData);\n        // await this.logoutService.doLogout();\n        return body;\n      }\n    }\n  }\n\n  // tslint:disable-next-line:jsdoc-format\n  /**\n   * @description This function will check whether user is new or existing.\n   * @description If user is existing then this function will get the current or refreshed token\n   * @returns boolean value based on expired\n   */\n  async isLoggedIn(): Promise<boolean> {\n    const currentUserFromStore = await this.storeService.getUserData();\n    const currentUser: any = this.cacheService.getLocalData(userData);\n    this.logservice.log('User data from local storage = ', currentUser);\n    this.logservice.log('User data from store = ', currentUserFromStore);\n\n    if (currentUserFromStore && currentUser) {\n      const res = await this.checkTokenStatus(currentUser);\n      return res;\n    } else if (currentUserFromStore && !currentUser) {  // if data is present in store but not in local stoarge\n      this.cacheService.setLocalData(userData, currentUserFromStore); // update locsal storage\n      const res = await this.checkTokenStatus(currentUserFromStore);\n      return res;\n    } else if (!currentUserFromStore && currentUser) { // if data is present in local storage but not in Store\n      this.storeService.dispatchUserData(currentUser); // update store\n      const res = await this.checkTokenStatus(currentUser);\n      return res;\n    } else {\n      return false;\n    }\n  }\n\n  // tslint:disable-next-line:jsdoc-format\n  /**\n   * @description This function will check the status of token whether it is expired or not\n   * @description If token is expired then it will call refresh token method\n   * @param currentUser is the currentuser object either from store or local storage\n   * @returns boolean value or refresh token object based on condition\n   */\n  async checkTokenStatus(currentUser): Promise<boolean> {\n    const isExpired = this.isTokenExpire(currentUser.access_token);\n    if (isExpired) {\n      this.logservice.log_w('THIS ACCESS_TOKEN IS EXPIRED in Login, try getting new one.');\n      const res = await this.refreshTokenWrapper(currentUser);\n      return res;\n    } else {\n      return true;\n    }\n  }\n\n  /**\n   * @description This function is required for checking the access_token is expired or not.\n   * @param access_token Need Access_token for checking is it expired\n   * @returns boolean value based on expied\n   */\n  // tslint:disable-next-line:variable-name\n  isTokenExpire(access_token: string): boolean {\n    const helper = new JwtHelperService();\n    return helper.isTokenExpired(access_token);\n  }\n\n  /**\n   * @description This method will get call whenevr we need to refresh the expise token\n   * @param user is the object conatining all CIDAAS login data\n   * @returns object of CIDAAS login data including regresh token\n   */\n  private async refreshTokenWrapper(user): Promise<boolean> {\n    const body: ITokenEndpointBody = {\n      client_id: this.configuration.cidaasConfig.cidaasClientId,\n      grant_type: 'refresh_token',\n      refresh_token: user.refresh_token\n    };\n\n    const result = await this.getToken(body, 'refresh token');\n    return result;\n  }\n\n  /**\n   * @description This method will decide the access token\n   * @returns decoded access token\n   */\n  async getCorrelationId() {\n    const user = await this.getUser();\n    const helper = new JwtHelperService();\n    const decodedToken = helper.decodeToken(user.access_token);\n    return decodedToken.sub;\n  }\n\n  /**\n   * @description This method is to get the userData related to CIDAAS login\n   * @returns object of CIDAAS login data\n   */\n  async getUser() {\n    let user: any = this.cacheService.getLocalData(userData);\n    const helper = new JwtHelperService();\n    if (user) {\n      const isExpired = this.isTokenExpire(user.access_token);\n      if (isExpired) {\n        this.logservice.log(\n          'THIS ACCESS_TOKEN IS EXPIRED in getUser, try getting new one.'\n        );\n        user = await this.refreshTokenWrapper(user);\n        this.logservice.log('refreshTest::got result in getUser ' + user);\n      }\n    }\n    return user;\n  }\n\n}\n","export const cidaasLoginProvider = {\n  appScope: ['email', 'roles', 'profile', 'offline_access'],\n  responseType: 'code',\n  redirectUri: 'http://localhost:8000/callback',\n  code_challenge: '9235487394587-xcode',\n  code_challenge_method: 'S256',\n  nonce: '12345678909876'\n};\nexport const cidaasRegisterProvider = {\n  appScope: ['email', 'roles', 'profile', 'offline_access'],\n  responseType: 'code',\n  redirectUri: 'http://localhost:8000/register',\n  code_challenge: '9235487394587-xcode',\n  code_challenge_method: 'S256',\n  nonce: '1234543267890',\n  viewType: 'register'\n};\n\nexport const bodyParam = { grant_type: 'authorization_code' };\n\nexport const loginDesign = {\n  closebuttoncolor: '#dd0060',\n  hardwareback: 'no',\n  hidenavigationbuttons: 'no',\n  hideurlbar: 'yes',\n  navigationbuttoncolor: '#dd0060',\n  toolbarcolor: '#f7f7f7'\n};\n\nexport const registerDesign = {\n  closebuttoncolor: '#dd0060',\n  hardwareback: 'no',\n  hidenavigationbuttons: 'no',\n  hideurlbar: 'yes',\n  navigationbuttoncolor: '#dd0060',\n  toolbarcolor: '#f7f7f7'\n};\nexport const userObject = {\n  message: '',\n  status: '',\n  accessToken: '',\n  refreshToken: ''\n};\n\n","// IONIC - ANGULAR\nimport { Inject, Injectable } from '@angular/core';\n\n// Importing CIDAAS Provider\nimport { CidaasProvider } from '../../providers/cidaas.provider';\nimport { ITokenEndpointBody } from '../../models/cidaas.model';\nimport { Oauth, OauthBrowser, OauthCordova } from 'ionic-cordova-oauth';\nimport { AuthService } from '../auth-service/auth.service';\nimport { LogService } from '../logger-service/logger.service';\nimport { StoreService } from '../store-service/store.service';\nimport { CacheService } from '../cache-service/cache.service';\nimport { userData } from '../../config/local-storage.config';\n\n// CIDAAS Confi Data\nimport { loginDesign, bodyParam, registerDesign, userObject } from '../../config/cidaas.config';\nimport { throwError } from 'rxjs';\nimport { ConfigService } from '../config-service/config-service';\n\n\n@Injectable()\nexport class LoginService {\n  constructor(\n    private authService: AuthService,\n    private logService: LogService,\n    private configService: ConfigService,\n    private storeService: StoreService,\n    private cacheService: CacheService,\n    @Inject('SERVICE_CONFIG') public configuration: any\n  ) { }\n  oauth: Oauth;\n  // cidaasParam = { clientId: CidaasProvider.CLIENT_ID };\n  cidaasParam = { clientId: this.configuration.cidaasConfig.cidaasClientId };\n  cidaasRegisterProvider = this.configuration.cidaasConfig.cidaasRegisterProvider;\n  cidaasLoginProvider = this.configuration.cidaasConfig.cidaasLoginProvider;\n  cidaasLoginDesign = this.configuration.cidaasConfig.cidaasLoginDesign;\n  cidaasRegisterDesign = this.configuration.cidaasConfig.cidaasRegisterDesign;\n\n  /**\n   * @description This is CIDAAS Authentication main function\n   * @param actionType is the string which indicates the type of action whether it is login or register\n   * @param platform is used to define the platform to use. Default value is browser\n   */\n  async cidaasAuth(actionType, platform = 'browser') {\n    actionType = actionType.trim();\n    let provider;\n    if (actionType === 'register token') {\n      // provider = new CidaasProvider({ ...this.cidaasParam, ...cidaasRegisterProvider });\n      provider = new CidaasProvider({ ...this.cidaasParam, ...this.cidaasRegisterProvider });\n    } else if (actionType === 'login token') {\n      // provider = new CidaasProvider({ ...this.cidaasParam, ...cidaasLoginProvider });\n      provider = new CidaasProvider({ ...this.cidaasParam, ...this.cidaasLoginProvider });\n    }\n    const pkceBody: ITokenEndpointBody = {\n      grant_type: bodyParam.grant_type,\n      client_id: provider.options.clientId,\n      redirect_uri: provider.options.redirectUri,\n      code_verifier: CidaasProvider.base64URLEncode(\n        provider.options.code_challenge\n      )\n    };\n    this.logService.log('TEST CONFI SERVICE = ', + this.configService.configuration);\n    this.logService.log('pkceBody required for login = ' + pkceBody);\n    this.logService.log('provider body required for login =' + provider);\n    let result;\n    const res = userObject;\n    try {\n      result = await this.login(provider, pkceBody, actionType, platform);\n      if (result.access_token === '' || result.access_token === undefined) {\n        this.logService.log_e('login failed == ');\n        this.logService.log_e(result);\n        res.message = 'login Failed';\n        res.status = '1';\n        return res;\n      } else {\n        this.logService.log('login successFull == ');\n        this.logService.log(result);\n        res.message = 'login success';\n        res.status = '0';\n        res.accessToken = result.access_token;\n        res.refreshToken = result.refresh_token;\n        return res;\n      }\n    } catch (err) {\n      throwError(err);\n    }\n  }\n\n  /**\n   * @description This is logout function\n   * @description it will remove userData from local storage and store\n   */\n  async cidaasLogout() {\n    try {\n      this.storeService.dispatchUserData({});\n      this.cacheService.removeLocalData(userData);\n      return true;\n    } catch (err) {\n      throwError(err);\n    }\n  }\n\n  /**\n   * @description This is Login function to call oauth loginVia API\n   * @param provider is the CIDAAS provider object\n   * @param pkceBody is the ITokenEndpointBody object\n   * @param actionType it is identifier for the API action whether it is for login/register\n   */\n  async login(provider, pkceBody, actionType, platform) {\n    let res: any;\n    if (platform === 'browser') {\n      this.oauth = new OauthBrowser();\n    } else {\n      this.oauth = new OauthCordova();\n    }\n    if (this.cidaasLoginDesign === undefined || Object.keys(this.cidaasLoginDesign).length === 0) {\n      this.cidaasLoginDesign = loginDesign;\n    }\n    if (this.cidaasRegisterDesign === undefined || Object.keys(this.cidaasRegisterDesign).length === 0) {\n      this.cidaasRegisterDesign = registerDesign;\n    }\n    if (actionType === 'register token') {\n      res = await this.oauth.logInVia(provider, this.cidaasLoginDesign);\n    } else if (actionType === 'login token') {\n      res = await this.oauth.logInVia(provider, this.cidaasRegisterDesign);\n    }\n\n    if (!!res) {\n      pkceBody.code = res.code;\n      const data = await this.authService.oAuthCallback(pkceBody, actionType);\n      return data;\n    }\n\n  }\n}\n","import { Injectable, Inject } from '@angular/core';\nimport { CanActivate, Router } from '@angular/router';\nimport { Observable } from 'rxjs';\nimport { LogService } from '../logger-service/logger.service';\nimport { AuthService } from '../auth-service/auth.service';\n\n@Injectable()\nexport class AuthGuard implements CanActivate {\n\n\n  constructor(\n        private logService: LogService,\n        private authService: AuthService,\n        private router: Router,\n        @Inject('SERVICE_CONFIG') public configuration: any\n    ) {\n    }\n\n  /**\n   * @description This method will check user already login or not\n   * @returns Return the true if user already logged in or else false\n   */\n  canActivate(): Observable<boolean> | Promise<boolean> | boolean {\n    this.logService.log('can Activate method is called!!!');\n    const loginScreenUrl = this.configuration.globalConfig.loginScreenUrl;\n    try {\n        return this.authService.isLoggedIn().then(isLoggedIn => {\n          this.logService.log('User exist or not', isLoggedIn);\n          if (isLoggedIn) {\n            this.logService.log('Already logged in user!!!');\n            return true;\n          } else {\n            this.logService.log_w('Please do login to continue......');\n            this.router.navigate(['/' + loginScreenUrl]); // this route will be based on parameter passed in global config\n            return false;\n          }\n        });\n      } catch (err) {\n        this.logService.log_e('Error occured in isLoggedIn method');\n        return false;\n      }\n  }\n}\n","/**\n * This is the animation file used for creating animations in the application.\n * For Tab we have to give \"data: { routeIdx: 0 }\" in the routing params. Each component should be given a routeIdx.\n * Then within the tab component (the component which has the tabs) need have the below function.\n * onActivate($event) { this.animationState = this.route.firstChild.snapshot.data['routeIdx'];}\n * And the param to be added is animationState. In the html file for the tab component add the tag\n * <div [@routeAnimations]=\"animationState\"><router-outlet (activate)=\"onActivate($event)\"></router-outlet></div>\n * This way the tab animation would work fine.\n *\n * For other navigations we have animation values as \"TabLevel\", \"SecondLevel\", \"ThirdLevel\", \"Forthlevel\"\n * Add the value properly in your routes for animations and import the slideInAnimation as a param in the Component decorator\n */\n\nimport {\n  transition,\n  trigger,\n  query,\n  style,\n  animate,\n  group,\n  animateChild\n} from '@angular/animations';\n\nexport const slideInAnimation = trigger('routeAnimations', [\n  transition('TabLevel => SecondLevel', [\n    query(\n      ':enter, :leave',\n      style({ position: 'fixed', width: '100%', height: '100%' }),\n      { optional: true }\n    ),\n    group([\n      query(\n        ':enter',\n        [\n          style({ transform: 'translateX(100%)' }),\n          animate('0.15s linear', style({ transform: 'translateX(0%)' }))\n        ],\n        { optional: true }\n      ),\n      query(\n        ':leave',\n        [\n          style({ transform: 'translateX(0%)' }),\n          animate('0.15s linear', style({ transform: 'translateX(-100%)' }))\n        ],\n        { optional: true }\n      )\n    ])\n  ]),\n  transition('ThirdLevel => ForthLevel', [\n    query(\n      ':enter, :leave',\n      style({ position: 'fixed', width: '100%', height: '100%' }),\n      { optional: true }\n    ),\n    group([\n      query(\n        ':enter',\n        [\n          style({ transform: 'translateX(100%)' }),\n          animate('0.15s linear', style({ transform: 'translateX(0%)' }))\n        ],\n        { optional: true }\n      ),\n      query(\n        ':leave',\n        [\n          style({ transform: 'translateX(0%)' }),\n          animate('0.15s linear', style({ transform: 'translateX(-100%)' }))\n        ],\n        { optional: true }\n      )\n    ])\n  ]),\n  transition('SecondLevel => ThirdLevel', [\n    query(\n      ':enter, :leave',\n      style({ position: 'fixed', width: '100%', height: '100%' }),\n      { optional: true }\n    ),\n    group([\n      query(\n        ':enter',\n        [\n          style({ transform: 'translateX(100%)' }),\n          animate('0.15s linear', style({ transform: 'translateX(0%)' }))\n        ],\n        { optional: true }\n      ),\n      query(\n        ':leave',\n        [\n          style({ transform: 'translateX(0%)' }),\n          animate('0.15s linear', style({ transform: 'translateX(-100%)' }))\n        ],\n        { optional: true }\n      )\n    ])\n  ]),\n  transition('SecondLevel => TabLevel', [\n    query(\n      ':enter, :leave',\n      style({ position: 'fixed', width: '100%', height: '100%' }),\n      { optional: true }\n    ),\n    group([\n      query(\n        ':enter',\n        [\n          style({ transform: 'translateX(-100%)' }),\n          animate('0.15s linear', style({ transform: 'translateX(0%)' }))\n        ],\n        { optional: true }\n      ),\n      query(\n        ':leave',\n        [\n          style({ transform: 'translateX(0%)' }),\n          animate('0.15s linear', style({ transform: 'translateX(100%)' }))\n        ],\n        { optional: true }\n      )\n    ])\n  ]),\n  transition('ForthLevel => ThirdLevel', [\n    query(\n      ':enter, :leave',\n      style({ position: 'fixed', width: '100%', height: '100%' }),\n      { optional: true }\n    ),\n    group([\n      query(\n        ':enter',\n        [\n          style({ transform: 'translateX(-100%)' }),\n          animate('0.15s linear', style({ transform: 'translateX(0%)' }))\n        ],\n        { optional: true }\n      ),\n      query(\n        ':leave',\n        [\n          style({ transform: 'translateX(0%)' }),\n          animate('0.15s linear', style({ transform: 'translateX(100%)' }))\n        ],\n        { optional: true }\n      )\n    ])\n  ]),\n  transition('ThirdLevel => SecondLevel', [\n    query(\n      ':enter, :leave',\n      style({ position: 'fixed', width: '100%', height: '100%' }),\n      { optional: true }\n    ),\n    group([\n      query(\n        ':enter',\n        [\n          style({ transform: 'translateX(-100%)' }),\n          animate('0.15s linear', style({ transform: 'translateX(0%)' }))\n        ],\n        { optional: true }\n      ),\n      query(\n        ':leave',\n        [\n          style({ transform: 'translateX(0%)' }),\n          animate('0.15s linear', style({ transform: 'translateX(100%)' }))\n        ],\n        { optional: true }\n      )\n    ])\n  ]),\n    transition(':decrement', [\n      query(':enter, :leave', style({ position: 'fixed', width: '100%' }), { optional: true }),\n      group([\n          query(':enter', [style({ transform: 'translateX(-100%)' }), animate('.3s ease-out', style({ transform: 'translateX(0%)' }))], {\n              optional: true,\n          }),\n          query(':leave', [style({ transform: 'translateX(0%)' }), animate('.3s ease-out', style({ transform: 'translateX(100%)' }))], {\n              optional: true,\n          }),\n      ]),\n    ]),\n    transition(':increment', [\n      query(':enter, :leave', style({ position: 'fixed', width: '100%' }), { optional: true }),\n      group([\n          query(':enter', [style({ transform: 'translateX(100%)' }), animate('.3s ease-out', style({ transform: 'translateX(0%)' }))], {\n              optional: true,\n          }),\n          query(':leave', [style({ transform: 'translateX(0%)' }), animate('.3s ease-out', style({ transform: 'translateX(-100%)' }))], {\n              optional: true,\n          }),\n      ]),\n    ]),\n]);\n","// IONIC - ANGULAR\nimport { Inject, Injectable } from '@angular/core';\nimport { LogService } from '../logger-service/logger.service';\nimport { delay } from 'q';\n\n\n@Injectable()\nexport class OnBoardingService {\n  constructor(\n    private logService: LogService,\n  ) {\n  }\n\n  /**\n   * @description This Method is responsible to handle any action to process in betwwen on boarding screens\n   * @param currentPageTitle title for current active page\n   * @param nextPageTitle title for next page\n   * @param prevPageTitle title for prev page\n   */\n  async nextClickActionHandler(currentPageTitle, nextPageTitle, prevPageTitle) {\n    this.logService.log('currentPageTitile -->', currentPageTitle);\n    this.logService.log('nextPageTitle -->', nextPageTitle);\n    this.logService.log('prevPageTitle -->', prevPageTitle);\n\n    await delay(5000);\n\n    return 'success';\n  }\n\n  /**\n   * @description This Method is responsible to handle any action to process in betwwen on boarding screens\n   * @param currentPageTitle title for current active page\n   * @param nextPageTitle title for next page\n   * @param prevPageTitle title for prev page\n   */\n  async prevClickActionHandler(currentPageTitle, nextPageTitle, prevPageTitle) {\n    this.logService.log('currentPageTitile -->', currentPageTitle);\n    this.logService.log('nextPageTitle -->', nextPageTitle);\n    this.logService.log('prevPageTitle -->', prevPageTitle);\n\n    await delay(5000);\n\n    return 'success';\n  }\n\n}\n","export const CommonConstants = {\n  SRV: 'https://private-eb271b-zwaytest.apiary-mock.com/v1/',\n  AUTHENTICATION_URL: 'https://find.z-wave.me/zboxweb',\n  PROXY_CONTROL_URL: 'https://find.z-wave.me/ZAutomation/api/v1/',\n  // GATEWAY_CONTROL_ENDPOINT: 'https://fd2xt8lnsa.execute-api.eu-west-1.amazonaws.com/dev/api/v1/gateways/control',\n  //    GATEWAY_CONTROL_ENDPOINT: 'https://postb.in/uPTXSyId/',\n  LECKAGE_PROTECTION_ID: 123,\n  WATER_SENSOR_ID: 456,\n  LECKAGE_MANUFACTURER_ID: 1043,\n  LECKAGE_MANUFACTURER_PRODUCT_ID: 1,\n  LECKAGE_MANUFACTURER_TYPE: 1\n};\n\nexport enum GatewayCredentialsTypes {\n  ADMIN = 'admin',\n  LOCAL = 'local',\n  REMOTE = 'remote'\n}\n\nexport interface GatewayCredentials {\n  user: string;\n  password: string;\n  type: GatewayCredentialsTypes;\n}\n\nexport enum SupportedDeviceTypes {\n  leckageDetector = 'LeckageDetector',\n  floodSensorRehau = 'FloodSensorRehau',\n  floodSensorOther = 'FloodSensorOther'\n}\n\nexport interface PairedDevicesData {\n  vendorId: string;\n  productId: string;\n  productType: string;\n  serialnumber: string;\n  nodeId: string;\n  deviceName: string;\n  type: SupportedDeviceTypes;\n  creationTime: Date;\n  virtualDevices: IVirtualDevice[];\n}\n\nexport interface Gateway {\n  id?: string;\n  boxId?: string;\n  localIp?: string;\n  credentials?: GatewayCredentials[];\n  password?: string;\n  homeId?: string;\n  homeGwId?: string;\n  pairedDevices?: PairedDevicesData[];\n  leckageDeviceId?: number;\n  waterSensorDeviceId?: number;\n  claimed?: boolean;\n  remoteAccessActivated?: boolean;\n}\n\nexport interface ILogoutInterface {\n  observerId: number;\n  onLogout(): Promise<any>;\n}\n\nexport const gatewayDeviceControlEndpoint = 'https://fieldtest.smarthome-dev.aws.rehau.com' + '/deviceControl/api/v1';\n\n\n// gatewayAclService interafece\n\nexport const gatewayAclEndpoint = 'https://fieldtest.smarthome-dev.aws.rehau.com' + '/acl/api/v1';\n\nexport enum GatewayAclServiceUserGatewayCredsType {\n  ADMIN = 'admin',\n  LOCAL = 'local',\n  REMOTE = 'remote'\n}\n\n\nexport interface GatewayAclServiceUserHomeGatewaysCredentials {\n  user: string;\n  password: string;\n  type: GatewayAclServiceUserGatewayCredsType;\n  boxId?: string;\n}\n\nexport interface GatewayAclServiceUserHomeGatewaysCredentialsDictionary {\n  [username: string]: GatewayAclServiceUserHomeGatewaysCredentials;\n}\n\nexport interface GatewayAclServiceUserHomeGateway {\n  homeGwId: string;\n  gwMac?: string;\n  userCredentials?: GatewayAclServiceUserHomeGatewaysCredentialsDictionary;\n}\n\nexport interface GatewayAclServiceUserHomeGatewaysDictionary {\n  [homeGwId: string]: GatewayAclServiceUserHomeGateway;\n}\n\nexport interface GatewayAclServiceUserHome {\n  homeId: string;\n  id?: string;\n  masterUser?: string;\n  gateways: GatewayAclServiceUserHomeGatewaysDictionary;\n}\n\nexport interface GatewayAclServiceHomeDictionary {\n  [homeId: string]: GatewayAclServiceUserHome;\n}\n\nexport interface GatewayAclServiceUser {\n  id: string;\n  ssoId: string;\n  homes: GatewayAclServiceHomeDictionary;\n  type: string;\n}\n\n// gatewayDeviceControlService interface\n\n\nexport interface IGatewayReducedReturn {\n  id: string;\n  boxId: string;\n  localIp: string;\n  pairedDevices: IPairedDevicesData[];\n  remoteAccessActivated: boolean;\n  homeGwId: string;\n  homeId: string;\n  type: string;\n}\n\nexport enum ISupportedDeviceTypes {\n  leckageDetector = 'LeckageDetector',\n  floodSensorRehau = 'FloodSensorRehau',\n  floodSensorOther = 'FloodSensorOther',\n  otherDevice = 'otherDevice'\n}\n\nexport interface IVirtualDevice {\n  vDevId: string;\n  deviceType: string;\n}\n\nexport interface IPairedDevicesData {\n  vendorId: string;\n  productId: string;\n  productType: string;\n  serialnumber: string;\n  nodeId: string;\n  deviceName: string;\n  type: ISupportedDeviceTypes;\n  creationTime: Date;\n  virtualDevices: IVirtualDevice[];\n}\n\n\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { catchError, flatMap, retryWhen, timeout } from 'rxjs/operators';\nimport { retryBackoff } from 'backoff-rxjs';\nimport { AuthService } from '../auth-service/auth.service';\nimport { WebService } from '../web-service/web.service';\nimport { LogService } from '../logger-service/logger.service';\nimport {\n  gatewayAclEndpoint,\n  GatewayAclServiceUserGatewayCredsType,\n  GatewayCredentialsTypes,\n  GatewayCredentials,\n  Gateway,\n  GatewayAclServiceUserHome,\n  GatewayAclServiceUser\n} from '../../models/getway.model';\n\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class GatewayAclService {\n  private static INIT_INTERVAL = 2000;\n  private static MAX_INTERVAL = 6000;\n  private static MAX_RETRIES = 3;\n  private static REQ_TIMEOUT = 8000;\n\n\n\n  private storageName = 'gateway_device';\n\n  constructor(\n    private httpClient: HttpClient,\n    private authService: AuthService,\n    private webService: WebService,\n    private logService: LogService\n  ) {\n  }\n\n  async cloudGetHomes(accessToken: string): Promise<{ homes: GatewayAclServiceUserHome[], response: GatewayAclServiceUser }> {\n    try {\n      const gatewayAclUser = await this.userControllerGET(accessToken);\n      const result: GatewayAclServiceUserHome[] = [];\n      for (const homeId of Object.keys(gatewayAclUser.homes)) {\n        result.push(gatewayAclUser.homes[homeId]);\n      }\n      return { homes: result, response: gatewayAclUser };\n    } catch (e) {\n      console.error('gatewayAclServer::cloudGetHomes: Could not fetch Homes ' + JSON.stringify(e));\n      return { homes: [], response: null };\n    }\n  }\n\n  async userControllerGET(accessToken: string): Promise<GatewayAclServiceUser> {\n    const httpOptions = {\n      headers: new HttpHeaders({\n        'Content-Type': 'application/json',\n        // tslint:disable-next-line:object-literal-key-quotes\n        'access_token': accessToken,\n        'x-correlation-id': await this.authService.getCorrelationId()\n      })\n    };\n\n    const url = gatewayAclEndpoint + '/users/';\n    const retryConfig = {\n      REQ_TIMEOUT: GatewayAclService.REQ_TIMEOUT,\n      INIT_INTERVAL: GatewayAclService.INIT_INTERVAL,\n      MAX_INTERVAL: GatewayAclService.MAX_INTERVAL,\n      MAX_RETRIES: GatewayAclService.MAX_RETRIES,\n    };\n    const gwUser: GatewayAclServiceUser = await this.webService.getApi(url, httpOptions, retryConfig).toPromise();\n\n    this.logService.log(gwUser);\n    return gwUser;\n  }\n\n  async getGatewaysToHome(accessToken: string, homeId: string, aclUser: GatewayAclServiceUser): Promise<Gateway[]> {\n    const result: Gateway[] = [];\n    for (const gatewayId of Object.keys(aclUser.homes[homeId].gateways)) {\n      const gwResult: Gateway = {\n        credentials: []\n      };\n      for (const credId of Object.keys(aclUser.homes[homeId].gateways[gatewayId].userCredentials)) {\n        gwResult.homeGwId = gatewayId;\n        console.log('Getting credId: ' + credId);\n        const credentials = aclUser.homes[homeId].gateways[gatewayId].userCredentials[credId];\n        console.log('Getting homeId: ' + homeId);\n        console.log(credentials);\n        if (credentials.type === GatewayAclServiceUserGatewayCredsType.ADMIN ||\n          credentials.type === GatewayAclServiceUserGatewayCredsType.LOCAL ||\n          credentials.type === GatewayAclServiceUserGatewayCredsType.REMOTE) {\n          const newCreds: GatewayCredentials = {\n            user: credentials.user,\n            password: credentials.password,\n            type: credentials.type === 'admin' ? GatewayCredentialsTypes.ADMIN :\n              credentials.type === 'local' ? GatewayCredentialsTypes.LOCAL :\n                credentials.type === 'remote' ? GatewayCredentialsTypes.REMOTE :\n                  null\n          };\n          console.log('Got correct type! ' + JSON.stringify(newCreds));\n          gwResult.credentials.push(newCreds);\n        }\n      }\n      result.push(gwResult);\n    }\n    return result;\n  }\n\n  async getHomeOfUser(accessToken: string, homeID: string) {\n    console.log('GatewayACLService::getHomeOfUser: ' + accessToken + ' for HomeID ' + homeID);\n    const httpOptions = {\n      headers: new HttpHeaders({\n        'Content-Type': 'application/json',\n        access_token: accessToken,\n        'x-correlation-id': await this.authService.getCorrelationId()\n      })\n    };\n\n    const url = gatewayAclEndpoint + '/users/homes/' + homeID;\n    const retryConfig = {\n      REQ_TIMEOUT: GatewayAclService.REQ_TIMEOUT,\n      INIT_INTERVAL: GatewayAclService.INIT_INTERVAL,\n      MAX_INTERVAL: GatewayAclService.MAX_INTERVAL,\n      MAX_RETRIES: GatewayAclService.MAX_RETRIES,\n    };\n    const home: GatewayAclServiceUserHome = await this.webService.getApi(url, httpOptions, retryConfig).toPromise();\n\n    this.logService.log(home);\n    return home;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { GatewayAclService } from './gatewayAcl.service';\nimport { AuthService } from '../auth-service/auth.service';\nimport { CacheService } from '../cache-service/cache.service';\nimport { WebService } from '../web-service/web.service';\nimport { LogService } from '../logger-service/logger.service';\nimport {\n  CommonConstants,\n  GatewayCredentialsTypes,\n  Gateway,\n  ILogoutInterface,\n  gatewayDeviceControlEndpoint\n} from '../../models/getway.model';\n\nexport class GatewayAlreadyConfiguredError extends Error {\n  constructor(m: string) {\n    super(m);\n\n    // Set the prototype explicitly.\n    Object.setPrototypeOf(this, GatewayAlreadyConfiguredError.prototype);\n  }\n}\n\nexport class GatewaySerialNotFoundError extends Error {\n  constructor(m: string) {\n    super(m);\n    this.name = 'GatewaySerialNotFoundError';\n    // Set the prototype explicitly.\n    Object.setPrototypeOf(this, GatewayAlreadyConfiguredError.prototype);\n  }\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GatewayService implements ILogoutInterface {\n  private static INIT_INTERVAL_REMOTE = 2000;\n  private static MAX_INTERVAL_REMOTE = 6000;\n  private static REQ_TIMEOUT_REMOTE = 20000;\n\n  private static INIT_INTERVAL_LOCAL = 2000;\n  private static MAX_INTERVAL_LOCAL = 6000;\n  private static REQ_TIMEOUT_LOCAL = 6000;\n\n  observerId = 48976446132111;\n\n  private localOnline;\n  private remoteOnline;\n  private completedFirstRun = false;\n  private storageName = 'gateway_device';\n\n  constructor(\n    private http: HttpClient,\n    private gatewayAclService: GatewayAclService,\n    private authService: AuthService,\n    private cacheService: CacheService,\n    private webService: WebService,\n    private logService: LogService,\n  ) {\n  }\n\n\n  /**\n   * @description Calls the Gateway API\n   * @param gateway gateWay Information\n   * @param apiEndpoint This is Api End P{oints}\n   * @param method Specific Method To Follow\n   * @param body Body If It is a POST Api Call\n   * @param headers not used right now\n   * @param connectionType explicitly decide, if it should be called locally, or remotely. Default: remote\n   */\n  async callApi(\n    gateway: Gateway,\n    apiEndpoint: string,\n    method: string = 'get',\n    body: any | null = null,\n    headers?: {},\n    connectionType?: 'remote' | 'local' | 'admin',\n    retryLocal: number = 2,\n    retryRemote: number = 3,\n    killRequestObject: { continue: boolean } = { continue: true },\n    localResponseType: string = 'json'\n  ) {\n    const retryConfig = {\n      REQ_TIMEOUT: GatewayService.REQ_TIMEOUT_LOCAL,\n      INIT_INTERVAL: GatewayService.INIT_INTERVAL_LOCAL,\n      MAX_INTERVAL: GatewayService.MAX_INTERVAL_LOCAL,\n      MAX_RETRIES: retryLocal,\n    };\n\n    // If no connection Type is given and the Method is run for the first Time\n    if (!connectionType && this.completedFirstRun) {\n      if (this.localOnline) {\n        connectionType = 'local';\n      } else if (this.remoteOnline) {\n        connectionType = 'remote';\n      } else {\n        // go to race between remote and local\n        connectionType = undefined;\n      }\n    }\n\n    // try remote call first, else try local\n    let username: string;\n    let password: string;\n    const useCredentials =\n      connectionType === 'local'\n        ? GatewayCredentialsTypes.LOCAL\n        : GatewayCredentialsTypes.REMOTE;\n\n    // this.logService.log('cred type: ' + useCredentials);\n    for (const creds of gateway.credentials) {\n      // this.logService.log('iterate creds' + JSON.stringify(creds));\n      if (creds.type === useCredentials) {\n        username = creds.user;\n        password = creds.password;\n      }\n    }\n\n    if (username === undefined || password === undefined) {\n      throw new Error('Username or Password undefined');\n    }\n\n    if (connectionType === 'remote') {\n      this.logService.log('Connection is remote');\n      const requestBody = {\n        boxId: gateway.boxId,\n        username,\n        password,\n        urlEndpoint: apiEndpoint,\n        method,\n        body: undefined\n      };\n      if (\n        method.toUpperCase() === 'POST' ||\n        method.toUpperCase() === 'PUT' ||\n        method.toUpperCase() === 'PATCH'\n      ) {\n        requestBody.body = JSON.stringify(body);\n      }\n      const user: any = await this.authService.getUser();\n\n      const requestHeader = {\n        access_token: user.access_token\n      };\n\n      try {\n        requestHeader[\n          'x-correlation-id'\n        ] = await this.authService.getCorrelationId();\n      } catch (e) {\n        this.logService.log_e(e);\n      }\n      const url = gatewayDeviceControlEndpoint + '/gateways/control';\n      const httpOption = {\n        headers: requestHeader\n      };\n      try {\n        const apiResponse = await this.webService.postApi(url, requestBody, httpOption, retryConfig).toPromise();\n        this.remoteOnline = true;\n        this.completedFirstRun = true;\n        return apiResponse;\n      } catch (e) {\n        this.logService.log_e(\n          'gatewayservice::callApi: Network error remote request' +\n          JSON.stringify(e)\n        );\n        this.remoteOnline = false;\n      }\n    } else if (connectionType === 'local' || connectionType === 'admin') {\n      this.logService.log('Connection is local');\n      const basicAuthString = 'Basic ' + btoa(username + ':' + password);\n      // const user = await this.userService.getUser();\n      try {\n        const httpOptions = {\n          headers: { Authorization: basicAuthString }\n        };\n        if (\n          method.toUpperCase() !== 'GET' &&\n          method.toUpperCase() !== 'OPTIONS'\n        ) {\n          // tslint:disable-next-line:no-string-literal\n          httpOptions['body'] = body;\n        }\n        // tslint:disable-next-line:no-string-literal\n        httpOptions['responseType'] = localResponseType;\n        const url = 'http://' + gateway.localIp + ':8083/' + apiEndpoint;\n\n        // Create separate method for request API\n        const apiResponse = await this.webService.requestApi(method, url, httpOptions, retryConfig).toPromise();\n        this.localOnline = true;\n        this.completedFirstRun = true;\n        return apiResponse;\n      } catch (e) {\n        this.logService.log_e(\n          'gatewayservice::callApi: Network error local request' +\n          JSON.stringify(e)\n        );\n        this.localOnline = false;\n        if (!connectionType) {\n          return await this.callApi(\n            gateway,\n            apiEndpoint,\n            method,\n            body,\n            headers,\n            'remote'\n          );\n        } else {\n          throw e;\n        }\n      }\n    } else if (!connectionType) {\n      // Do requests in parallel, if no connectionType is specified\n      const curtime = new Date().getTime();\n      const cancelRequestLocal = { continue: true };\n      const cancelRequestRemote = { continue: true };\n      const remotePromise = this.callApi(\n        gateway,\n        apiEndpoint,\n        method,\n        body,\n        headers,\n        'remote',\n        undefined,\n        undefined,\n        cancelRequestRemote\n      );\n      const localPromise = this.callApi(\n        gateway,\n        apiEndpoint,\n        method,\n        body,\n        headers,\n        'local',\n        undefined,\n        undefined,\n        cancelRequestLocal\n      );\n      try {\n        // wait for first to finish\n        const response = await Promise.race([remotePromise, localPromise]);\n        cancelRequestLocal.continue = false;\n        cancelRequestRemote.continue = false;\n        return response;\n      } catch (e) {\n        // jumps in this catch, if one of the request fails\n        this.logService.log_e('gatewayservice::callApi: parallel promise failed ' + e);\n        // wait for both to finish\n        // the promise that failed before will fail again here and throw an exception\n        // the other one is still open and could resolve or reject\n        let result;\n        try {\n          result = await remotePromise;\n          this.remoteOnline = true;\n        } catch (e) {\n          this.remoteOnline = false;\n          this.logService.log_e(\n            'gatewayservice::callApi: remote request failed with error ' +\n            JSON.stringify(e)\n          );\n        }\n        try {\n          result = await localPromise;\n          this.localOnline = true;\n        } catch (e) {\n          this.localOnline = false;\n          this.logService.log_e(\n            'gatewayservice::callApi: Local request failed with error ' +\n            JSON.stringify(e)\n          );\n        }\n        if (result === undefined) {\n          throw new Error('gatewayservice::callApi: Both requests failed');\n        }\n        return result;\n      }\n    }\n  }\n\n  /**\n   * @description Calls the ZWaveAPI and get data for all the conected devices\n   * @param gateway gateWay Information\n   * @param getMock bollean type\n   * @param doDefaultRetrys retry parameter type boolean\n   */\n  async getLeckageDeviceConnectedToGateway(\n    gateway: Gateway,\n    getMock: boolean = false,\n    doDefaultRetrys = false\n  ) {\n    // if (getMock) {\n    //   return [\n    //     {\n    //       nodeId: 3,\n    //       givenName: 'MockDevice'\n    //     }\n    //   ];\n    // }\n    let allDevices;\n    if (doDefaultRetrys) {\n      allDevices = await this.callApi(\n        gateway,\n        'ZWaveAPI/Data',\n        'get',\n        null,\n        null,\n        null\n      );\n    } else {\n      allDevices = await this.callApi(\n        gateway,\n        'ZWaveAPI/Data',\n        'get',\n        null,\n        null,\n        null,\n        1,\n        1\n      );\n    }\n\n    const foundDevices = [];\n    this.logService.log('gatewayService::got devices: ' + JSON.stringify(allDevices));\n    // tslint:disable-next-line:forin\n    for (const nodeId in allDevices.devices) {\n      const device = allDevices.devices[nodeId];\n      if (\n        device.data.manufacturerId.value ===\n        CommonConstants.LECKAGE_MANUFACTURER_ID &&\n        device.data.manufacturerProductId.value ===\n        CommonConstants.LECKAGE_MANUFACTURER_PRODUCT_ID &&\n        device.data.manufacturerProductType.value ===\n        CommonConstants.LECKAGE_MANUFACTURER_TYPE\n      ) {\n        foundDevices.push({\n          nodeId,\n          givenName: device.data.givenName.value\n        });\n      }\n\n    }\n    return foundDevices;\n  }\n\n  /**\n   * @description not in use\n   */\n  async onLogout() {\n    // await this.localStorageService.removePersistentItem(this.storageName);\n  }\n\n  /**\n   * @description method to save the gateway object in local storage for persistence use\n   * @param accessToken accesstoken\n   * @param gateway object to save\n   */\n  async saveGateway(accessToken: string, gateway: Gateway) {\n    this.logService.log(accessToken);\n    this.cacheService.setLocalData(this.storageName, JSON.stringify(gateway));\n  }\n\n  /**\n   * @description method to fetch gateway object from local storage and return parse gateway object\n   * @param accessToken access token\n   */\n  async getPairedGateway(accessToken: string): Promise<Gateway> {\n    this.logService.log('in get pair getway service', accessToken);\n    const rawGatewayObject = JSON.stringify(this.cacheService.getLocalData(\n      this.storageName\n    ));\n    this.logService.log(rawGatewayObject);\n    const gw: Gateway = JSON.parse(rawGatewayObject);\n    return gw;\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { HttpHeaders } from '@angular/common/http';\nimport { AuthService } from '../auth-service/auth.service';\nimport { WebService } from '../web-service/web.service';\nimport {\n  Gateway,\n  gatewayDeviceControlEndpoint\n} from '../../models/getway.model';\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GatewayDeviceControlService {\n  private static INIT_INTERVAL = 2000;\n  private static MAX_INTERVAL = 6000;\n  private static MAX_RETRIES = 3;\n  private static REQ_TIMEOUT = 6000;\n\n  constructor(\n    private authService: AuthService,\n    private webService: WebService\n  ) { }\n\n  async updateGatewayData(gateway: Gateway, mac: string, accessToken: string) {\n    const httpOptions = {\n      headers: new HttpHeaders({\n        'Content-Type': 'application/json',\n        // tslint:disable-next-line:object-literal-key-quotes\n        'access_token': accessToken,\n        'x-correlation-id': await this.authService.getCorrelationId()\n      })\n    };\n\n    const url = gatewayDeviceControlEndpoint + '/gateways/' + mac;\n    const retryConfig = {\n      REQ_TIMEOUT: GatewayDeviceControlService.REQ_TIMEOUT,\n      INIT_INTERVAL: GatewayDeviceControlService.INIT_INTERVAL,\n      MAX_INTERVAL: GatewayDeviceControlService.MAX_INTERVAL,\n      MAX_RETRIES: GatewayDeviceControlService.MAX_RETRIES,\n    };\n    const apiResponse: Gateway = await this.webService.getApi(url, httpOptions, retryConfig).toPromise();\n\n    if (\n      apiResponse.boxId &&\n      apiResponse.homeGwId &&\n      apiResponse.homeId &&\n      apiResponse.id &&\n      apiResponse.localIp\n    ) {\n      gateway.boxId = apiResponse.boxId;\n      gateway.homeGwId = apiResponse.homeGwId;\n      gateway.homeId = apiResponse.homeId;\n      gateway.id = apiResponse.id;\n      gateway.localIp = apiResponse.localIp;\n    } else {\n      throw new Error('Could not fetch Gateway, empty response!');\n    }\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, Subject } from 'rxjs';\nimport { AuthService } from '../auth-service/auth.service';\nimport { GatewayService } from '../gateway-service/gateway.service';\nimport { LogService } from '../logger-service/logger.service';\n\nexport const onlineOfflineData = new Subject();\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OnlineOfflineService {\n  // observerId = 5689564564;\n\n  // private observer: IOnlineOfflineObserver[] = [];\n  private refreshTime = 5000;\n  failureRate = new BehaviorSubject<number>(0);\n\n  REGUARD_OFFLINE = false;\n\n  private tickInterval;\n  private remoteOnline = true;\n  private localOnline = true;\n\n  constructor(\n    private authService: AuthService,\n    private gatewayService: GatewayService,\n    private logService: LogService,\n  ) {\n    // ngOnInit not supported for services so logic has to be in constructor\n    this.logService.log('onlineOffline::onInit');\n    // this.initialize();\n  }\n\n  async initialize() {\n    this.logService.log('onlineOffline::initialize');\n    clearInterval(this.tickInterval);\n    this.tickInterval = setInterval(() => {\n      this.tick();\n    }, this.refreshTime);\n  }\n\n  private async tick() {\n    this.logService.log('onlineOffline::tick');\n    const localBefore = this.localOnline;\n    const remoteBefore = this.remoteOnline;\n    // await this.checkLocalConnection();\n    // await this.checkRemoteConnection();\n\n    await this.checkConnection('local');\n    await this.checkConnection('remote');\n\n    if (\n      localBefore !== this.localOnline ||\n      remoteBefore !== this.remoteOnline\n    ) {\n      this.notify();\n    }\n  }\n\n  private notify() {\n    this.logService.log('onlineOffline::notify');\n    onlineOfflineData.next({ localOnline: this.localOnline, remoteOnline: this.remoteOnline });\n  }\n\n  private async checkConnection(type) {\n    const user = await this.authService.getUser();\n    const gateway = await this.gatewayService.getPairedGateway(\n      user.access_token\n    );\n    try {\n      const response = await this.gatewayService.callApi(\n        gateway,\n        'ZAutomation/api/v1/status',\n        'get',\n        null,\n        null,\n        type\n      );\n      if (response !== undefined && response.code === 200) {\n        if (type === 'local') {\n          this.localOnline = true;\n        } else {\n          this.remoteOnline = true;\n        }\n      } else {\n        this.logService.log('onlineOffline::local offline-- ' + JSON.stringify(response));\n        // this.localOnline = true;\n        if (type === 'local') {\n          this.localOnline = false;\n        } else {\n          this.remoteOnline = false;\n        }\n      }\n    } catch (e) {\n      this.logService.log('onlineOffline::local offline catch');\n      if (type === 'local') {\n        this.localOnline = false;\n      } else {\n        this.remoteOnline = false;\n      }\n    }\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { CacheService } from '../cache-service/cache.service';\n\nexport enum FlowUnit {\n  FLOW_L_M = 'L/M',\n  FLOW_L_H = 'L/H',\n  FLOW_M3_H = 'm3/H'\n}\n\nexport enum AmountUnit {\n  AMOUNT_LITERS = 'l',\n  AMOUNT_CUBICMETERS = 'm3'\n}\n\nexport enum TemperatureUnit {\n  TEMPERATURE_C = 'C',\n  TEMPERATURE_F = 'F'\n}\n\nexport enum PressureUnit {\n  PRESSURE_BAR = 'Bar',\n  PRESSURE_PA = 'Pa'\n}\n\nexport class Settings {\n  amountUnit: AmountUnit = AmountUnit.AMOUNT_LITERS;\n  flowUnit: FlowUnit = FlowUnit.FLOW_L_H;\n  pressureUnit: PressureUnit = PressureUnit.PRESSURE_BAR;\n  temperatureUnit: TemperatureUnit = TemperatureUnit.TEMPERATURE_C;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SensorSettingService {\n  private storageName = 'user_settings';\n\n  constructor(private cacheService: CacheService) { }\n\n  /**\n   * @description convert the amount parameters to specific value\n   * @param unit amount parameter to change\n   * @param inValue initial value of unit\n   */\n  convertAmount(unit: AmountUnit, inValue: number): string {\n    console.log('Hy I am Unit', unit);\n    if (unit === AmountUnit.AMOUNT_LITERS) {\n      return this.roundValueToZeroDigits(inValue * 1000);\n    } else if (unit === AmountUnit.AMOUNT_CUBICMETERS) {\n      return this.roundValue(inValue);\n    } else {\n      return this.roundValueToZeroDigits(inValue * 1000);\n    }\n  }\n\n  /**\n   * @description convert the flow parameters to specific value\n   * @param unit flow parameter to change\n   * @param inValue initial value of unit\n   */\n  convertFlow(unit: FlowUnit, inValue: number): string {\n    if (unit === FlowUnit.FLOW_L_M) {\n      return this.roundValue(inValue / 60);\n    } else if (unit === FlowUnit.FLOW_L_H) {\n      return this.roundValueToZeroDigits(inValue);\n    } else if (unit === FlowUnit.FLOW_M3_H) {\n      return this.roundValue(inValue / 1000);\n    } else {\n      return this.roundValue(inValue / 60);\n    }\n  }\n\n  /**\n   * @description convert the temperature parameters to specific value\n   * @param unit unit of parameter to change\n   * @param inValue initial value of unit\n   */\n  convertTemp(unit: TemperatureUnit, inValue: number): string {\n    if (unit === TemperatureUnit.TEMPERATURE_C) {\n      return this.roundValue(inValue);\n    } else if (unit === TemperatureUnit.TEMPERATURE_F) {\n      return this.roundValue((inValue * 9) / 5 + 32);\n    } else {\n      return this.roundValue(inValue);\n    }\n  }\n\n  /**\n   * @description convert the pressure parameters to specific value\n   * @param unit unit of parameter to change\n   * @param inValue initial value of unit\n   */\n  convertPressure(unit: PressureUnit, inValue: number): string {\n    if (unit === PressureUnit.PRESSURE_BAR) {\n      return this.roundValue(inValue / 100);\n    } else if (unit === PressureUnit.PRESSURE_PA) {\n      return this.roundValue(inValue);\n    } else {\n      return this.roundValue(inValue / 100);\n    }\n  }\n\n  /**\n   * @description get settings parameter object from local storage\n   */\n  async getSettings(): Promise<Settings> {\n    let gw: Settings = new Settings();\n    const rawGatewayObject: any = this.cacheService.getLocalData(this.storageName);\n    if (rawGatewayObject !== null) {\n      gw = (rawGatewayObject);\n    }\n    if (gw == null) {\n      console.log('GW was null, create new object');\n      gw = new Settings();\n    }\n    return gw;\n  }\n\n  /**\n   * @description set settings parameter object in local storage\n   * @param settings object to store\n   */\n  async setSettings(settings: Settings) {\n    this.cacheService.setLocalData(this.storageName, (settings));\n  }\n\n  private roundValue(value: number): string {\n    return value.toFixed(1);\n  }\n\n  private roundValueToZeroDigits(value: number): string {\n    return value.toFixed(0);\n  }\n}\n","\nexport interface Sensor {\n  title: string;\n  subTitle: string;\n  value: string;\n  timestamp?: number;\n}\n\nexport enum SupportedDeviceTypes {\n  leckageDetector = 'LeckageDetector',\n  floodSensorRehau = 'FloodSensorRehau',\n  floodSensorOther = 'FloodSensorOther'\n}\n\nexport interface VirtualDevice {\n  creationTime: number;\n  creatorId: number;\n  customIcons: any;\n  deviceType: string;\n  h: number;\n  hasHistory: boolean;\n  id: string;\n  location: number;\n  metrics: VirtualDeviceMetrics;\n  order: VirtualDeviceOrder;\n  permanently_hidden: false;\n  probeType: string;\n  tags: string[];\n  updateTime: number;\n  visibility: boolean;\n}\nexport interface VirtualDeviceOrder {\n  rooms: number;\n  elements: number;\n  ashboard: number;\n  room: number;\n}\n\nexport class DeviceMetric {\n  icon: string;\n  title: string;\n  isFailed: boolean;\n  level: any;\n  scaleTitle: any;\n}\n\nexport class DeviceOrder {\n  rooms: number;\n  elements: number;\n  ashboard: number;\n  room: number;\n}\n\nexport class DeviceData {\n  creationTime: number;\n  creatorId: number;\n  customIcons = {};\n  deviceType: string;\n  h: number;\n  hasHistory: boolean;\n  id: string;\n  location: number;\n  metrics: DeviceMetric;\n  order: DeviceOrder;\n  // tslint:disable-next-line:variable-name\n  permanently_hidden: false;\n  probeType: string;\n  tags: string[] = [];\n  updateTime: number;\n  visibility: boolean;\n}\n\nexport interface VirtualDeviceMetrics {\n  icon: string;\n  title: string;\n  level: string;\n  lastLevel: string;\n  modificationTime: string;\n  scaleTitle: any;\n  isFailed: boolean;\n}\n\nexport interface DeviceMap {\n  updateTime: string;\n  devices: { [id: string]: VirtualDevice };\n}\n\nexport class SafeGuardDevice {\n  mainDevice: DeviceData;\n  sensorDevices: DeviceData[] = [];\n  async getAllConfigParams() {\n    return 1;\n  }\n}\n","import { Injectable, OnDestroy } from '@angular/core';\nimport { BehaviorSubject, Subject } from 'rxjs';\nimport {\n  OnlineOfflineService, onlineOfflineData,\n} from '../onlineOffline-service/onlineOffline.service';\nimport { AuthService } from '../auth-service/auth.service';\nimport { GatewayService } from '../gateway-service/gateway.service';\nimport { CacheService } from '../cache-service/cache.service';\nimport { SensorSettingService } from '../leakage-helper-service/settings.service';\nimport {\n  Sensor,\n  VirtualDevice,\n  DeviceData,\n  DeviceMap,\n  SafeGuardDevice\n} from '../../models/zAutomation.model';\nimport { Gateway } from '../../models/getway.model';\nimport { LogService } from '../logger-service/logger.service';\n\nexport const sensorUpdateSub = new Subject();\nexport const sensorsDataSub = new Subject();\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ZAutomationService {\n  appStartTime = Math.floor(new Date().getTime() / 1000);\n\n\n  device: SafeGuardDevice;\n\n  tickInterval;\n  private storageName = 'zautomation_object';\n  // tslint:disable-next-line:variable-name\n  private _deviceMap: DeviceMap;\n  get deviceMap(): DeviceMap {\n    return this._deviceMap;\n  }\n  set deviceMap(value: DeviceMap) {\n    this._deviceMap = value;\n    this.setConfigWrapperToStorage(value);\n  }\n  // private observer: IzAutomationObserver[] = [];\n  private remoteOnline = true;\n  private localOnline = true;\n  private refreshTime = 2500;\n  private freezeButtonUntil = 0;\n  safeGuardChecked: any = { flag: false };\n  failureRate = new BehaviorSubject<number>(0);\n  constructor(\n    private onlineOfflineService: OnlineOfflineService,\n    private authService: AuthService,\n    private gatewayService: GatewayService,\n    private settingService: SensorSettingService,\n    private logService: LogService,\n    private cacheService: CacheService,\n  ) {\n    this.logService.log('zAutomationAPI::onInit');\n    if (this.cacheService.getLocalData('safeGuardChecked')) {\n      this.safeGuardChecked = this.cacheService.getLocalData('safeGuardChecked');\n    }\n    // this.onlineOfflineService.subscribe(this);\n    onlineOfflineData.subscribe((data: any) => {\n      this.onlineOfflineUpdate(data.localOnline, data.remoteOnline);\n    });\n  }\n\n  /**\n   * @description function to maintain the state of variables localOnline and remoteOnline\n   * @param localOnline boolean value true if device connected localy\n   * @param remoteOnline boolean value true if device connected remotely\n   */\n  onlineOfflineUpdate(localOnline: boolean, remoteOnline: boolean) {\n    this.logService.log(\n      'zAutomationAPI::onlineOfflineUpdate ' + localOnline + ' ' + remoteOnline\n    );\n    this.remoteOnline = remoteOnline;\n    this.localOnline = localOnline;\n  }\n\n  /**\n   * @description this method will initialize onlineOfflineService\n   * @description and continuosly check for device connectivity status\n   * @description it will continuosly call tick method which will fetch connected device info\n   */\n  public initialize() {\n    this.logService.log('initialize method call-- in zAutomation service');\n    clearInterval(this.tickInterval);\n    this.onlineOfflineService.initialize();\n    // this.onlineOfflineInitialize();\n    this.tick(true);\n    this.logService.log('Tick Runs 1st Time ------------------->');\n    this.tickInterval = setInterval(async () => {\n      // await this.onlineOfflineInitialize();\n      this.tick(false);\n    }, this.refreshTime);\n  }\n\n  /**\n   * @description if device is connected either localy or remotely then this function will call the polldata function\n   * @description to get the connected device info\n   * @param firstRun is to check whether function is hitted very first time as need to\n   * fetch zAutomation object from local storage in first run\n   */\n  private async tick(firstRun: boolean) {\n    this.logService.log('in tick function zAutomation service');\n    // if (this.observer.length > 0) {\n    this.logService.log('zAutomationAPI::tick');\n    try {\n      if (!this.localOnline && !this.remoteOnline) {\n        this.logService.log('zAutomationAPI::no tick, because Offline');\n        return;\n      }\n      const user = await this.authService.getUser();\n      const gw = await this.gatewayService.getPairedGateway(\n        user.access_token\n      );\n\n      if (gw.leckageDeviceId !== undefined) {\n        if (firstRun) {\n          this.logService.log('zAutomationAPI::firstRunLoad');\n          this._deviceMap = await this.getConfigWrapperFromStorage();\n          this.notify();\n        } else {\n          // if (firstRun || this.observer.length > 0) {\n          this.logService.log('zAutomationAPI::tick::polldata');\n          this.logService.log('DEBUG firstrun:' + firstRun);\n          await this.pollData();\n        }\n        // if (this.observer.length === 0) {\n        //   this.logService.log('DEBUG observer length 0');\n        //   // return;\n        // }\n        this.decFailureRate();\n      } else {\n        this.logService.log(\n          'zAutomationAPI::tick: leackage device undefined, skipping network requests'\n        );\n      }\n    } catch (e) {\n      this.logService.log(\n        'zAutomationAPI::tick:Catch: Could not get tick, error: ' +\n        e.message +\n        ';;;;;;;' +\n        e.stack\n      );\n      this.incFailureRate();\n    }\n  }\n\n  /**\n   * @description this function will call fetchpull data to either get whole data or to get data from last update time\n   */\n  private async pollData() {\n    if (\n      this.deviceMap &&\n      this.deviceMap.updateTime &&\n      Object.keys(this.deviceMap.devices).length > 0\n    ) {\n      this.logService.log('zAutomationAPI::pollData: Polling delta data');\n      await this.fetchPollData('delta'); // passing parameter delta to fetch data from last upodatetime\n    } else {\n      this.logService.log('zAutomationAPI::pollData: Polling complete data');\n      await this.fetchPollData('complete'); // passing parameter complete to get whole object\n    }\n  }\n\n  /**\n   * @description call device API and get the data either complete or from last update time based on parameter passed\n   * @param type should be delta if need to fetch data using last update time else complete\n   */\n  private async fetchPollData(type) {\n    this.logService.log('in fetchPollData method');\n    let url;\n    if (type === 'delta') {\n      url = 'ZAutomation/api/v1/devices?since=' + this.deviceMap.updateTime;\n      // url = 'ZWaveAPI/Data/' + this.deviceMap.updateTime;\n    } else {\n      url = 'ZAutomation/api/v1/devices';\n      // url = 'ZWaveAPI/Data/?call=4';\n    }\n\n    const newWrapper: DeviceMap = { updateTime: '', devices: null };\n    this.logService.log('zAutomationAPI::pollCompleteData');\n    const user = await this.authService.getUser();\n    const gateway = await this.gatewayService.getPairedGateway(\n      user.access_token\n    );\n    const pollObject = await this.gatewayService.callApi(\n      gateway,\n      url\n    );\n    this.logService.log('I am PollObject, I might have all the Device Data', pollObject);\n    if (type === 'delta') {\n      // tslint:disable-next-line:no-string-literal\n      newWrapper.updateTime = pollObject['data']['updateTime'];\n      // tslint:disable-next-line:no-string-literal\n      newWrapper.devices = await this.parseDevices(pollObject['data']['devices']);\n      if (newWrapper && newWrapper.devices) {\n        // this.logService.log('zAutomationAPI::MergeAndSave: New one');\n        let update = false;\n        // tslint:disable-next-line:forin\n        for (const deviceID in newWrapper.devices) {\n          // this.logService.log('zAutomationAPI::MergeAndSave: Updating' + JSON.stringify(newWrapper.devices[deviceID]));\n          this._deviceMap.devices[deviceID] = newWrapper.devices[deviceID];\n          update = true;\n        }\n        if (update) {\n          // this.logService.log('zAutomationAPI::MergeAndSave: Notify');\n          this.setConfigWrapperToStorage(this._deviceMap);\n          this.notify();\n        }\n      }\n    } else {\n      // tslint:disable-next-line:no-string-literal\n      newWrapper.updateTime = pollObject['data']['updateTime'];\n      // tslint:disable-next-line:no-string-literal\n      newWrapper.devices = await this.parseDevices(pollObject['data']['devices']);\n      // this.logService.log(newWrapper);\n      this.deviceMap = newWrapper;\n      this.notify();\n    }\n  }\n  /**\n   * @description Here We need to Provide the Leakage Device Id and\n   *  Its Instance.\n   */\n  private async getDeviceAndInstance(\n    gateway: Gateway\n  ): Promise<{ device: number; instance: number }> {\n    return { device: gateway.leckageDeviceId, instance: 0 };\n  }\n\n  /**\n   * @description It parse from all the Device Data and return the Array of\n   * devices whose node id is matches with gateway.leckageDeviceId.\n   */\n  private async parseDevices(\n    pollObject\n  ): Promise<{ [id: string]: VirtualDevice }> {\n    const user = await this.authService.getUser();\n    const data: any = await this.gatewayService.getPairedGateway(user.access_token);\n    const deviceIDandInstance = await this.getDeviceAndInstance(data);\n    const result: { [id: string]: VirtualDevice } = {};\n    for (const obj of pollObject) {\n      // this.logService.log('Checking if ' + deviceIDandInstance.device + ' equals ' + obj.nodeId);\n      if (\n        obj &&\n        obj.nodeId &&\n        obj.nodeId.toString() === deviceIDandInstance.device.toString()\n      ) {\n        // tslint:disable-next-line:no-string-literal\n        result[obj['id']] = obj;\n      } else if (obj.id === 'DummyDevice_18') {\n        result[obj.id] = obj;\n      }\n    }\n    return result;\n  }\n  /**\n   * @description getting zautomation_object from the Local storage\n   */\n  private async getConfigWrapperFromStorage(): Promise<DeviceMap> {\n    const result: any = (this.cacheService.getLocalData(this.storageName));\n    const object: DeviceMap = (result);\n    return object;\n  }\n  /**\n   * @description setting zautomation_object from the Local storage\n   * @param obj Object need to stored in local storage.\n   */\n  private async setConfigWrapperToStorage(obj: DeviceMap) {\n    this.cacheService.setLocalData(this.storageName, (obj));\n  }\n\n  /**\n   * @description this function notify every time when some chanegs are there in sensor values.\n   */\n  private notify() {\n    sensorUpdateSub.next({ flag: true });\n  }\n\n  /**\n   * @description this is needed for filtering a specific sensor device from the whole Array\n   * @param regex  is regular erpression need to filteraton.\n   */\n  filterDeviceMap(regex: RegExp): DeviceData {\n    for (const id in this.deviceMap.devices) {\n      if (regex.test(id)) {\n        return this.deviceMap.devices[id];\n      }\n    }\n  }\n  /**\n   * @description this just increase the Failure Counter\n   */\n  private incFailureRate() {\n    if (this.failureRate.getValue() < 3) {\n      this.failureRate.next(this.failureRate.getValue() + 1);\n    }\n  }\n\n  /**\n   * @description It Just Decrease the Failure Counter.\n   */\n\n  private decFailureRate() {\n    if (this.failureRate.getValue() > 0) {\n      this.failureRate.next(this.failureRate.getValue() - 1);\n    }\n  }\n\n  /**\n   * @description it needed for getting the updated value for a perticular Sensor.\n   * @param sensorNo using this we know which sensors updated information needed.\n   */\n  public async updateSensorValue(sensorNo: number) {\n    this.logService.log('in updateSensorValue-->', sensorNo);\n    const user = await this.authService.getUser();\n    const gateway: any = await this.gatewayService.getPairedGateway(user.access_token);\n    const deviceIDandInstance = await this.getDeviceAndInstance(gateway);\n    const deviceIDandInstanceString =\n      'ZWayVDev_zway_' +\n      deviceIDandInstance.device +\n      '-' +\n      deviceIDandInstance.instance;\n\n    let sensorPath = '';\n\n    switch (sensorNo) {\n      case 0: {\n        sensorPath = deviceIDandInstanceString + '-50-0';\n        break;\n      }\n      case 1: {\n        sensorPath = deviceIDandInstanceString + '-49-23';\n        break;\n      }\n      case 2: {\n        sensorPath = deviceIDandInstanceString + '-49-56';\n        break;\n      }\n      case 3: {\n        sensorPath = deviceIDandInstanceString + '-49-57';\n        break;\n      }\n    }\n    this.logService.log('call api --->sensorPath', sensorPath);\n    await this.gatewayService.callApi(\n      gateway,\n      'ZAutomation/api/v1/devices/' + sensorPath + '/command/update'\n    );\n  }\n\n  /**\n   * @description this function is needed for the getting the Sensor values\n   * and store it in local storage.\n   * @param sensorsValue need the initaial sensor values.\n   */\n  async getSensorValue(sensorsValue) {\n    const sensors: Sensor[] = sensorsValue;\n    this.logService.log('in update method-- device metrics');\n    const user = await this.authService.getUser();\n    const gateway = await this.gatewayService.getPairedGateway(\n      user.access_token\n    );\n    if (this.deviceMap && this.deviceMap.updateTime) {\n      // this.onlineOfflineService.REGUARD_OFFLINE = false;\n      // if (!DemoMode.IS_MOCK_DATA_MODE || !DemoMode.IS_JUST_MOCK_DATA_MODE) {\n      if (this.device) {\n        this.device.sensorDevices = [];\n      } else {\n        this.device = new SafeGuardDevice();\n      }\n      if (\n        this.filterDeviceMap(\n          new RegExp(gateway.leckageDeviceId + '-[0-9]*-37$', 'g')\n        ).metrics.isFailed\n      ) {\n        // REGUARD is offline\n        // this.onlineOfflineService.REGUARD_OFFLINE = true;\n        setTimeout(() => {\n          this.getSensorValue(sensors);\n        }, 5000);\n        return;\n      }\n      // this.onlineOfflineService.REGUARD_OFFLINE = false;\n      try {\n        const settings = await this.settingService.getSettings();\n\n        // WATERMETER\n\n        const waterMeter = this.filterDeviceMap(\n          new RegExp(gateway.leckageDeviceId + '-[0-9]*-50-0$', 'g')\n        );\n\n        this.logService.log(\n          'DeviceMetricsComponent::Update: settings meter before converting: ' +\n          JSON.stringify(waterMeter.metrics.level)\n        );\n\n        sensors[0].timestamp = waterMeter.updateTime;\n\n        sensors[0].value =\n          '' +\n          this.settingService.convertAmount(\n            settings.amountUnit,\n            waterMeter.metrics.level\n          );\n\n        // Translation service\n        // this.sensors[0].subTitle = this.translationService.instant(\n        //   settings.amountUnit\n        // );\n        // this.sensors[0].title = this.translationService.instant('Amount');\n\n        // TEMPERATURE\n\n        const waterTemperature = this.filterDeviceMap(\n          new RegExp(gateway.leckageDeviceId + '-[0-9]*-49-23$', 'g')\n        );\n\n        sensors[1].timestamp = waterTemperature.updateTime;\n\n        sensors[1].value =\n          '' +\n          this.settingService.convertTemp(\n            settings.temperatureUnit,\n            waterTemperature.metrics.level\n          );\n\n        // Translation Services\n        // this.sensors[1].subTitle = this.translationService.instant(\n        //   settings.temperatureUnit\n        // );\n        // this.sensors[1].title = this.translationService.instant(\n        //   'Temperature'\n        // );\n\n        // FLOW\n\n        const waterFlow = this.filterDeviceMap(\n          new RegExp(gateway.leckageDeviceId + '-[0-9]*-49-56$', 'g')\n        );\n\n        sensors[2].timestamp = waterFlow.updateTime;\n\n        sensors[2].value =\n          '' +\n          this.settingService.convertFlow(\n            settings.flowUnit,\n            waterFlow.metrics.level\n          );\n        // Translation Services\n        // this.sensors[2].subTitle = this.translationService.instant(\n        //   settings.flowUnit\n        // );\n        // this.sensors[2].title = this.translationService.instant('Flow');\n\n        // PRESSURE\n\n        const waterPressure = this.filterDeviceMap(\n          new RegExp(gateway.leckageDeviceId + '-[0-9]*-49-57$', 'g')\n        );\n        this.logService.log(\n          'DeviceMetricsComponent::Update: settings waterPressure: ' +\n          JSON.stringify(waterPressure)\n        );\n        this.logService.log('Water Sensor Updated Time', waterPressure.updateTime);\n\n        sensors[3].timestamp = waterPressure.updateTime;\n\n        sensors[3].value =\n          '' +\n          this.settingService.convertPressure(\n            settings.pressureUnit,\n            waterPressure.metrics.level\n          );\n\n        // Dummy Device 18\n        // PRESSURE\n        // alert('11');\n        const dummyDevice = this.filterDeviceMap(\n          new RegExp('DummyDevice_18', 'g')\n        );\n        if (dummyDevice) {\n          this.logService.log('Dummy Device Updated level', dummyDevice.metrics.level);\n          sensors[4].timestamp = dummyDevice.updateTime;\n          sensors[4].value = dummyDevice.metrics.level;\n        }\n        this.logService.log('Hey I am New Sensor Value', sensors);\n        this.cacheService.setLocalData('sensors', (sensors));\n        this.logService.log('sensors-local-storage: ' + JSON.stringify(sensors));\n\n        const now = Math.floor(new Date().getTime() / 1000) - 60 * 2;\n        const nowOneMin = Math.floor(new Date().getTime() / 1000) - 20;\n\n        this.logService.log('before loop sensor--->', sensors);\n\n        for (let i = 0; i < sensors.length; i++) {\n          this.logService.log(\n            'DeviceMetricsComponent::Update: oldstamp: ' +\n            sensors[i].timestamp +\n            'newstamp: ' +\n            now\n          );\n          if (sensors[i].timestamp) {\n            if (\n              sensors[i].timestamp < now &&\n              this.appStartTime < nowOneMin\n            ) {\n              this.updateSensorValue(i);\n              this.logService.log(\n                'DeviceMetricsComponent::Update: UpdateSensorValueCalled ' +\n                (now - sensors[i].timestamp)\n              );\n            }\n          }\n        }\n      } catch (e) {\n        this.logService.log(\n          'DeviceMetricsComponent::Update: Error fetching deviceMetrics! ' + e\n        );\n      }\n      // }\n\n      if (this.freezeButtonUntil <= new Date().getTime()) {\n        const guardChecked = this.filterDeviceMap(\n          new RegExp(gateway.leckageDeviceId + '-[0-9]*-37$', 'g')\n        );\n\n        this.safeGuardChecked.flag = guardChecked.metrics.level === 'on';\n        this.cacheService.setLocalData('safeGuardChecked', (this.safeGuardChecked));\n      }\n    }\n    sensorsDataSub.next({ data: sensors });\n  }\n\n}\n"],"names":["initialState","Reducer"],"mappings":"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"}
